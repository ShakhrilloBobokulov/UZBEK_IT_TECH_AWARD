!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).TableEditor=e()}(this,(function(){"use strict";const t=(t,e,i)=>{Object.keys(i).forEach((n=>{const s=i[n],o=e[n],l=o&&((r=o)[0]||r).nodeType?"element":(t=>null==t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase())(o);var r;if(!new RegExp(s).test(l))throw new Error(`${t.toUpperCase()}: Option "${n}" provided type "${l}" but expected type "${s}".`)}))},e=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-mdb-no-jquery")?t:null};document.documentElement.dir;let i=Element.prototype.querySelectorAll,n=Element.prototype.querySelector;const s=(()=>{const t=new CustomEvent("Bootstrap",{cancelable:!0}),e=document.createElement("div");return e.addEventListener("Bootstrap",(()=>null)),t.preventDefault(),e.dispatchEvent(t),t.defaultPrevented})(),o=/:scope\b/;(()=>{const t=document.createElement("div");try{t.querySelectorAll(":scope *")}catch(e){return!1}return!0})()||(i=function(t){if(!o.test(t))return this.querySelectorAll(t);const e=Boolean(this.id);e||(this.id=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})("scope"));let i=null;try{t=t.replace(o,`#${this.id}`),i=this.querySelectorAll(t)}finally{e||this.removeAttribute("id")}return i},n=function(t){if(!o.test(t))return this.querySelector(t);const e=l.call(this,t);return void 0!==e[0]?e[0]:null});const l=i,r=n,a={closest:(t,e)=>t.closest(e),matches:(t,e)=>t.matches(e),find:(t,e=document.documentElement)=>[].concat(...l.call(e,t)),findOne:(t,e=document.documentElement)=>r.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let n=t.parentNode;for(;n&&n.nodeType===Node.ELEMENT_NODE&&3!==n.nodeType;)this.matches(n,e)&&i.push(n),n=n.parentNode;return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(this.matches(i,e))return[i];i=i.nextElementSibling}return[]}};class c{constructor(t,e={},i){this._element=t,this._toggler=i,this._event=e.event||"blur",this._condition=e.condition||(()=>!0),this._selector=e.selector||'button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])',this._onlyVisible=e.onlyVisible||!1,this._focusableElements=[],this._firstElement=null,this._lastElement=null,this.handler=t=>{this._condition(t)&&t.target===this._lastElement&&(t.preventDefault(),this._firstElement.focus())}}trap(){this._setElements(),this._init(),this._setFocusTrap()}disable(){this._focusableElements.forEach((t=>{t.removeEventListener(this._event,this.handler)})),this._toggler&&this._toggler.focus()}update(){this._setElements(),this._setFocusTrap()}_init(){const t=e=>{this._firstElement&&"Tab"===e.key&&!this._focusableElements.includes(e.target)&&(e.preventDefault(),this._firstElement.focus(),window.removeEventListener("keydown",t))};window.addEventListener("keydown",t)}_filterVisible(t){return t.filter((t=>{if(!(t=>{if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),i=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==i.display&&"hidden"!==e.visibility}return!1})(t))return!1;const e=a.parents(t,"*");for(let i=0;i<e.length;i++){const t=window.getComputedStyle(e[i]);if(t&&("none"===t.display||"hidden"===t.visibility))return!1}return!0}))}_setElements(){const t=a.find(this._selector,this._element);this._focusableElements=t.filter((t=>{const e="true"===t.getAttribute("data-mdb-disabled")||t.hasAttribute("disabled");return t.disabled||e?null:t})),this._onlyVisible&&(this._focusableElements=this._filterVisible(this._focusableElements)),this._firstElement=this._focusableElements[0],this._lastElement=this._focusableElements[this._focusableElements.length-1]}_setFocusTrap(){this._focusableElements.forEach(((t,e)=>{e===this._focusableElements.length-1?t.addEventListener(this._event,this.handler):t.removeEventListener(this._event,this.handler)}))}}function d(t){return getComputedStyle(t)}function h(t,e){for(const i in e){let n=e[i];"number"==typeof n&&(n=`${n}px`),t.style[i]=n}return t}function u(t){const e=document.createElement("div");return e.className=t,e}const p="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function f(t,e){if(!p)throw new Error("No element matching method supported");return p.call(t,e)}function b(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function g(t,e){return Array.prototype.filter.call(t.children,(t=>f(t,e)))}const m={main:"ps",rtl:"ps__rtl",element:{thumb:t=>`ps__thumb-${t}`,rail:t=>`ps__rail-${t}`,consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:t=>`ps--active-${t}`,scrolling:t=>`ps--scrolling-${t}`}},_={x:null,y:null};function v(t,e){const i=t.element.classList,n=m.state.scrolling(e);i.contains(n)?clearTimeout(_[e]):i.add(n)}function w(t,e){_[e]=setTimeout((()=>t.isAlive&&t.element.classList.remove(m.state.scrolling(e))),t.settings.scrollingThreshold)}class y{constructor(t){this.element=t,this.handlers={}}bind(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)}unbind(t,e){this.handlers[t]=this.handlers[t].filter((i=>!(!e||i===e)||(this.element.removeEventListener(t,i,!1),!1)))}unbindAll(){for(const t in this.handlers)this.unbind(t)}get isEmpty(){return Object.keys(this.handlers).every((t=>0===this.handlers[t].length))}}class E{constructor(){this.eventElements=[]}eventElement(t){let e=this.eventElements.filter((e=>e.element===t))[0];return e||(e=new y(t),this.eventElements.push(e)),e}bind(t,e,i){this.eventElement(t).bind(e,i)}unbind(t,e,i){const n=this.eventElement(t);n.unbind(e,i),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)}unbindAll(){this.eventElements.forEach((t=>t.unbindAll())),this.eventElements=[]}once(t,e,i){const n=this.eventElement(t),s=t=>{n.unbind(e,s),i(t)};n.bind(e,s)}}function x(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function L(t,e,i,n=!0,s=!1){let o;if("top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,[i,n,s,o,l,r],a=!0,c=!1){const d=t.element;t.reach[o]=null,d[s]<1&&(t.reach[o]="start");d[s]>t[i]-t[n]-1&&(t.reach[o]="end");e&&(d.dispatchEvent(x(`ps-scroll-${o}`)),e<0?d.dispatchEvent(x(`ps-scroll-${l}`)):e>0&&d.dispatchEvent(x(`ps-scroll-${r}`)),a&&function(t,e){v(t,e),w(t,e)}(t,o));t.reach[o]&&(e||c)&&d.dispatchEvent(x(`ps-${o}-reach-${t.reach[o]}`))}(t,i,o,n,s)}function R(t){return parseInt(t,10)||0}const T={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function S(t){const e=t.element,i=Math.floor(e.scrollTop),n=e.getBoundingClientRect();t.containerWidth=Math.floor(n.width),t.containerHeight=Math.floor(n.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(g(e,m.element.rail("x")).forEach((t=>b(t))),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(g(e,m.element.rail("y")).forEach((t=>b(t))),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=M(t,R(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=R((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=M(t,R(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=R(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){const i={width:e.railXWidth},n=Math.floor(t.scrollTop);e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft;e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-n:i.top=e.scrollbarXTop+n;h(e.scrollbarXRail,i);const s={top:n,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?s.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:s.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?s.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:s.left=e.scrollbarYLeft+t.scrollLeft;h(e.scrollbarYRail,s),h(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),h(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(m.state.active("x")):(e.classList.remove(m.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(m.state.active("y")):(e.classList.remove(m.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function M(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function O(t,[e,i,n,s,o,l,r,a,c]){const d=t.element;let h=null,u=null,p=null;function f(e){e.touches&&e.touches[0]&&(e[n]=e.touches[0].pageY),d[r]=h+p*(e[n]-u),v(t,a),S(t),e.stopPropagation(),e.preventDefault()}function b(){w(t,a),t[c].classList.remove(m.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",f)}function g(o,a){h=d[r],a&&o.touches&&(o[n]=o.touches[0].pageY),u=o[n],p=(t[i]-t[e])/(t[s]-t[l]),a?t.event.bind(t.ownerDocument,"touchmove",f):(t.event.bind(t.ownerDocument,"mousemove",f),t.event.once(t.ownerDocument,"mouseup",b),o.preventDefault()),t[c].classList.add(m.state.clicking),o.stopPropagation()}t.event.bind(t[o],"mousedown",(t=>{g(t)})),t.event.bind(t[o],"touchstart",(t=>{g(t,!0)}))}const Y={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",(t=>t.stopPropagation())),t.event.bind(t.scrollbarYRail,"mousedown",(e=>{const i=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=i*t.containerHeight,S(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(t=>t.stopPropagation())),t.event.bind(t.scrollbarXRail,"mousedown",(e=>{const i=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=i*t.containerWidth,S(t),e.stopPropagation()}))},"drag-thumb":function(t){O(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),O(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){const e=t.element;t.event.bind(t.ownerDocument,"keydown",(i=>{if(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)return;if(!f(e,":hover")&&!f(t.scrollbarX,":focus")&&!f(t.scrollbarY,":focus"))return;let n=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(n){if("IFRAME"===n.tagName)n=n.contentDocument.activeElement;else for(;n.shadowRoot;)n=n.shadowRoot.activeElement;if(f(s=n,"input,[contenteditable]")||f(s,"select,[contenteditable]")||f(s,"textarea,[contenteditable]")||f(s,"button,[contenteditable]"))return}var s;let o=0,l=0;switch(i.which){case 37:o=i.metaKey?-t.contentWidth:i.altKey?-t.containerWidth:-30;break;case 38:l=i.metaKey?t.contentHeight:i.altKey?t.containerHeight:30;break;case 39:o=i.metaKey?t.contentWidth:i.altKey?t.containerWidth:30;break;case 40:l=i.metaKey?-t.contentHeight:i.altKey?-t.containerHeight:-30;break;case 32:l=i.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:l=t.containerHeight;break;case 34:l=-t.containerHeight;break;case 36:l=t.contentHeight;break;case 35:l=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==l||(e.scrollTop-=l,e.scrollLeft+=o,S(t),function(i,n){const s=Math.floor(e.scrollTop);if(0===i){if(!t.scrollbarYActive)return!1;if(0===s&&n>0||s>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}const o=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&i<0||o>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(o,l)&&i.preventDefault())}))},wheel:function(t){const e=t.element;function i(i){const[n,s]=function(t){let e=t.deltaX,i=-1*t.deltaY;return void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!=e&&i!=i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]}(i);if(function(t,i,n){if(!T.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;let s=t;for(;s&&s!==e;){if(s.classList.contains(m.element.consuming))return!0;const t=d(s);if(n&&t.overflowY.match(/(scroll|auto)/)){const t=s.scrollHeight-s.clientHeight;if(t>0&&(s.scrollTop>0&&n<0||s.scrollTop<t&&n>0))return!0}if(i&&t.overflowX.match(/(scroll|auto)/)){const t=s.scrollWidth-s.clientWidth;if(t>0&&(s.scrollLeft>0&&i<0||s.scrollLeft<t&&i>0))return!0}s=s.parentNode}return!1}(i.target,n,s))return;let o=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(s?e.scrollTop-=s*t.settings.wheelSpeed:e.scrollTop+=n*t.settings.wheelSpeed,o=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(n?e.scrollLeft+=n*t.settings.wheelSpeed:e.scrollLeft-=s*t.settings.wheelSpeed,o=!0):(e.scrollTop-=s*t.settings.wheelSpeed,e.scrollLeft+=n*t.settings.wheelSpeed),S(t),o=o||function(i,n){const s=Math.floor(e.scrollTop),o=0===e.scrollTop,l=s+e.offsetHeight===e.scrollHeight,r=0===e.scrollLeft,a=e.scrollLeft+e.offsetWidth===e.scrollWidth;let c;return c=Math.abs(n)>Math.abs(i)?o||l:r||a,!c||!t.settings.wheelPropagation}(n,s),o&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}void 0!==window.onwheel?t.event.bind(e,"wheel",i):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",i)},touch:function(t){if(!T.supportsTouch&&!T.supportsIePointer)return;const e=t.element;function i(i,n){e.scrollTop-=n,e.scrollLeft-=i,S(t)}let n={},s=0,o={},l=null;function r(t){return t.targetTouches?t.targetTouches[0]:t}function a(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function c(t){if(!a(t))return;const e=r(t);n.pageX=e.pageX,n.pageY=e.pageY,s=(new Date).getTime(),null!==l&&clearInterval(l)}function h(l){if(a(l)){const a=r(l),c={pageX:a.pageX,pageY:a.pageY},h=c.pageX-n.pageX,u=c.pageY-n.pageY;if(function(t,i,n){if(!e.contains(t))return!1;let s=t;for(;s&&s!==e;){if(s.classList.contains(m.element.consuming))return!0;const t=d(s);if(n&&t.overflowY.match(/(scroll|auto)/)){const t=s.scrollHeight-s.clientHeight;if(t>0&&(s.scrollTop>0&&n<0||s.scrollTop<t&&n>0))return!0}if(i&&t.overflowX.match(/(scroll|auto)/)){const t=s.scrollWidth-s.clientWidth;if(t>0&&(s.scrollLeft>0&&i<0||s.scrollLeft<t&&i>0))return!0}s=s.parentNode}return!1}(l.target,h,u))return;i(h,u),n=c;const p=(new Date).getTime(),f=p-s;f>0&&(o.x=h/f,o.y=u/f,s=p),function(i,n){const s=Math.floor(e.scrollTop),o=e.scrollLeft,l=Math.abs(i),r=Math.abs(n);if(r>l){if(n<0&&s===t.contentHeight-t.containerHeight||n>0&&0===s)return 0===window.scrollY&&n>0&&T.isChrome}else if(l>r&&(i<0&&o===t.contentWidth-t.containerWidth||i>0&&0===o))return!0;return!0}(h,u)&&l.preventDefault()}}function u(){t.settings.swipeEasing&&(clearInterval(l),l=setInterval((function(){t.isInitialized?clearInterval(l):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(l):(i(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(l)}),10))}T.supportsTouch?(t.event.bind(e,"touchstart",c),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",u)):T.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",c),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",u)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",c),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",u)))}};class ${constructor(t,e={}){if("string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=t,t.classList.add(m.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1};for(const l in e)this.settings[l]=e[l];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;const i=()=>t.classList.add(m.state.focus),n=()=>t.classList.remove(m.state.focus);this.isRtl="rtl"===d(t).direction,!0===this.isRtl&&t.classList.add(m.rtl),this.isNegativeScroll=(()=>{const e=t.scrollLeft;let i=null;return t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=e,i})(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new E,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=u(m.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=u(m.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",i),this.event.bind(this.scrollbarX,"blur",n),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;const s=d(this.scrollbarXRail);this.scrollbarXBottom=parseInt(s.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=R(s.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=R(s.borderLeftWidth)+R(s.borderRightWidth),h(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=R(s.marginLeft)+R(s.marginRight),h(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=u(m.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=u(m.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",i),this.event.bind(this.scrollbarY,"blur",n),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;const o=d(this.scrollbarYRail);this.scrollbarYRight=parseInt(o.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=R(o.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){const e=d(t);return R(e.width)+R(e.paddingLeft)+R(e.paddingRight)+R(e.borderLeftWidth)+R(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=R(o.borderTopWidth)+R(o.borderBottomWidth),h(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=R(o.marginTop)+R(o.marginBottom),h(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((t=>Y[t](this))),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(t=>this.onScroll(t))),S(this)}update(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,h(this.scrollbarXRail,{display:"block"}),h(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=R(d(this.scrollbarXRail).marginLeft)+R(d(this.scrollbarXRail).marginRight),this.railYMarginHeight=R(d(this.scrollbarYRail).marginTop)+R(d(this.scrollbarYRail).marginBottom),h(this.scrollbarXRail,{display:"none"}),h(this.scrollbarYRail,{display:"none"}),S(this),L(this,"top",0,!1,!0),L(this,"left",0,!1,!0),h(this.scrollbarXRail,{display:""}),h(this.scrollbarYRail,{display:""}))}onScroll(t){this.isAlive&&(S(this),L(this,"top",this.element.scrollTop-this.lastScrollTop),L(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)}destroy(){this.isAlive&&(this.event.unbindAll(),b(this.scrollbarX),b(this.scrollbarY),b(this.scrollbarXRail),b(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)}removePsClasses(){this.element.className=this.element.className.split(" ").filter((t=>!t.match(/^ps([-_].+|)$/))).join(" ")}}const k=(()=>{const t={};let e=1;return{set(i,n,s){void 0===i[n]&&(i[n]={key:n,id:e},e++),t[i[n].id]=s},get(e,i){if(!e||void 0===e[i])return null;const n=e[i];return n.key===i?t[n.id]:null},delete(e,i){if(void 0===e[i])return;const n=e[i];n.key===i&&(delete t[n.id],delete e[i])}}})(),A={setData(t,e,i){k.set(t,e,i)},getData:(t,e)=>k.get(t,e),removeData(t,e){k.delete(t,e)}},X=e(),H=/[^.]*(?=\..*)\.|.*/,W=/\..*/,P=/::\d+$/,C={};let D=1;const I={mouseenter:"mouseover",mouseleave:"mouseout"},N=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function j(t,e){return e&&`${e}::${D++}`||t.uidEvent||D++}function B(t){const e=j(t);return t.uidEvent=e,C[e]=C[e]||{},C[e]}function F(t,e,i=null){const n=Object.keys(t);for(let s=0,o=n.length;s<o;s++){const o=t[n[s]];if(o.originalHandler===e&&o.delegationSelector===i)return o}return null}function V(t,e,i){const n="string"==typeof e,s=n?i:e;let o=t.replace(W,"");const l=I[o];l&&(o=l);return N.indexOf(o)>-1||(o=t),[n,s,o]}function K(t,e,i,n,s){if("string"!=typeof e||!t)return;i||(i=n,n=null);const[o,l,r]=V(e,i,n),a=B(t),c=a[r]||(a[r]={}),d=F(c,l,o?i:null);if(d)return void(d.oneOff=d.oneOff&&s);const h=j(l,e.replace(H,"")),u=o?function(t,e,i){return function n(s){const o=t.querySelectorAll(e);for(let{target:e}=s;e&&e!==this;e=e.parentNode)for(let l=o.length;l--;"")if(o[l]===e)return n.oneOff&&q.off(t,s.type,i),i.apply(e,[s]);return null}}(t,i,n):function(t,e){return function i(n){return i.oneOff&&q.off(t,n.type,e),e.apply(t,[n])}}(t,i);u.delegationSelector=o?i:null,u.originalHandler=l,u.oneOff=s,u.uidEvent=h,c[h]=u,t.addEventListener(r,u,o)}function U(t,e,i,n,s){const o=F(e[i],n,s);o&&(t.removeEventListener(i,o,Boolean(s)),delete e[i][o.uidEvent])}const q={on(t,e,i,n){K(t,e,i,n,!1)},one(t,e,i,n){K(t,e,i,n,!0)},off(t,e,i,n){if("string"!=typeof e||!t)return;const[s,o,l]=V(e,i,n),r=l!==e,a=B(t),c="."===e.charAt(0);if(void 0!==o){if(!a||!a[l])return;return void U(t,a,l,o,s?i:null)}c&&Object.keys(a).forEach((i=>{!function(t,e,i,n){const s=e[i]||{};Object.keys(s).forEach((o=>{if(o.indexOf(n)>-1){const n=s[o];U(t,e,i,n.originalHandler,n.delegationSelector)}}))}(t,a,i,e.slice(1))}));const d=a[l]||{};Object.keys(d).forEach((i=>{const n=i.replace(P,"");if(!r||e.indexOf(n)>-1){const e=d[i];U(t,a,l,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,i){if("string"!=typeof e||!t)return null;const n=e.replace(W,""),o=e!==n,l=N.indexOf(n)>-1;let r,a=!0,c=!0,d=!1,h=null;return o&&X&&(r=X.Event(e,i),X(t).trigger(r),a=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),d=r.isDefaultPrevented()),l?(h=document.createEvent("HTMLEvents"),h.initEvent(n,a,!0)):h=new CustomEvent(e,{bubbles:a,cancelable:!0}),void 0!==i&&Object.keys(i).forEach((t=>{Object.defineProperty(h,t,{get:()=>i[t]})})),d&&(h.preventDefault(),s||Object.defineProperty(h,"defaultPrevented",{get:()=>!0})),c&&t.dispatchEvent(h),h.defaultPrevented&&void 0!==r&&r.preventDefault(),h}};function z(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function J(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const Q={setDataAttribute(t,e,i){t.setAttribute(`data-mdb-${J(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-mdb-${J(e)}`)},getDataAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter((t=>t.startsWith("mdb"))).forEach((t=>{let i=t.replace(/^mdb/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=z(e[t])})),e},getDataAttribute:(t,e)=>z(t.getAttribute(`data-mdb-${J(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:t=>({top:t.offsetTop,left:t.offsetLeft}),style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))},addClass(t,e){t.classList.contains(e)||t.classList.add(e)},addStyle(t,e){Object.keys(e).forEach((i=>{t.style[i]=e[i]}))},removeClass(t,e){t.classList.contains(e)&&t.classList.remove(e)},hasClass:(t,e)=>t.classList.contains(e)},Z=({row:t,column:e,edited:i,showLabel:n=!1,darkMode:s=!1})=>{if(!i)return t[e.field];const o={row:t,...e,edited:i,showLabel:n,darkMode:s};switch(e.inputType){case"checkbox":return G(o);case"select":return tt(o);default:return et(o)}},G=({row:t,field:e,editable:i,label:n,showLabel:s})=>`<div class="form-check ms-1 mt-1 ps-0">\n<input\n  ${i?"":"disabled"}\n  class="table-editor__input form-check-input ms-1"\n  type="checkbox"\n  ${t[e]&&JSON.parse(t[e])?"checked":""}\n/>\n${s?`<label class="ps-3 form-check-label">${n}</label>`:""}\n</div>`,tt=({row:t,field:e,options:i=[],editable:n,label:s,showLabel:o})=>`<select ${n?"":'data-mdb-disabled="true"'} class="select table-editor__input-select">\n  ${i.map((i=>`<option value="${i}" ${i===t[e]?"selected":""}>${i}</option>`)).join("\n")}\n  </select>\n  ${o?`<label class="form-label select-label">${s}</label>`:""}`,et=({row:t,field:e,inputType:i="text",editable:n,label:s,showLabel:o,darkMode:l})=>`<div class="form-outline ${l?"form-white":""}" data-mdb-input-init><input ${n?"":"disabled"} type="${i}"class="table-editor__input form-control" value="${t[e]}">\n  ${o?`<label class="form-label">${s}</label>`:""}\n  </div>`,it=({rows:t,columns:e,confirm:i,noFoundMessage:n,loading:s,editMode:o,editedRow:l,inline:r,dark:a,actionPosition:c})=>{const d=t.map((t=>{const n=r&&o&&t.rowIndex===l,s=e.map(((i,s)=>{const o=((t,e,i)=>{const n={};if(t.width&&(n["min-width"]=`${t.width}px`,n["max-width"]=`${t.width}px`),t.fixed){const s=i.filter(((i,n)=>i.fixed===t.fixed&&n<e)).reduce(((t,e)=>t+e.width),0);n["right"===t.fixed?"right":"left"]=`${s}px`}return n})(i,s,e),l=(t=>Object.keys(t).map((e=>`${e}: ${t[e]}`)).join("; "))(o),r=Z({row:t,column:i,edited:n,darkMode:a});return`<td style="${l}" class="${i.fixed?"fixed-cell":""}" data-mdb-field="${i.field}">${r}</td>`})).join(""),d=`<td>${((t,e,i)=>t?'<button class="me-2 btn btn-lg save-button"><i class="fa fa-check" data-mdb-ripple-init ></i></button>\n    <button class="btn btn-lg discard-button"><i class="fa fa-ban" data-mdb-ripple-init ></i></button>':`<button class="me-2 btn btn-lg edit-button" ${e?"disabled":""} data-mdb-ripple-init><i class="far fa-edit"></i></button><button class="btn btn-lg ${i?"popconfirm-toggle":"delete-button"} ${e?"disabled":""}" data-mdb-ripple-init><i class="far fa-trash-alt"></i></button>`)(n,o,i)}</td>`,h="start"===c?[d,s]:[s,d];return`<tr scope="row" data-mdb-index="${t.rowIndex}">${h.join("")}</tr>`}));return t.length>0||s?d.join("\n"):`<tr><td>${n}</td></tr>`},nt=({columns:t,confirm:e,rows:i,inline:n,noFoundMessage:s,loading:o,loadingMessage:l,loaderClass:r,action:a,editMode:c,editedRow:d,pagination:h,dark:u})=>{const p=it({rows:i,inline:n,confirm:e,columns:t,noFoundMessage:s,loading:o,editMode:c,editedRow:d,dark:u,actionPosition:a.position}),f=((t,{header:e,position:i})=>{const n=t.map(((e,i)=>{const n=e.fixed?t.filter(((t,n)=>t.fixed===e.fixed&&n<i)).reduce(((t,e)=>t+e.width),0):null;return`<th style="${e.fixed?`${"right"===e.fixed?"right":"left"}: ${n}px;`:""}" ${e.fixed?'class="fixed-cell"':""} scope="col">${e.sort?`<i data-mdb-sort="${e.field}" class="table-editor__sort-icon fas fa-arrow-up"></i>`:""} ${e.label}</th>`})),s=`<th scope="col">${e}</th>`;return"start"===i?[s,...n].join("\n"):[...n,s].join("\n")})(t,a),b=`\n<div class="table-editor__inner table-responsive">\n  <table class="table">\n    <thead>\n      <tr>\n        ${f}\n      </tr>\n    </thead>\n    <tbody>\n      ${o?"":p}\n    </tbody>\n  </table>\n</div>\n  ${o?`\n  <div class="table-editor__loader bg-light}">\n    <span class="table-editor__loader-inner"><span class="table-editor__progress ${r}"></span></span>\n  </div>\n  <p class="text-center text-muted my-4">${l}</p>\n`:""}\n  ${h.enable?(({text:t,entries:e,entriesOptions:i,fullPagination:n,rowsText:s},o,l)=>`\n<div class="table-editor__pagination">\n  <div class="table-editor__select-wrapper">\n    <p class="table-editor__select-text">${s}</p>\n    <select name="entries" ${o?'data-mdb-disabled="true"':""} class="table-editor__select select">\n      ${i.map((t=>`<option value="${t}" ${t===e?"selected":""}>${t}</option>`)).join("\n")}\n    </select>\n  </div>\n  <div class="table-editor__pagination-nav">\n  ${t}\n  </div>\n  <div class="table-editor__pagination-buttons">\n    ${n?`<button data-mdb-ripple-init data-mdb-ripple-color="${l?"light":"dark"}" class="btn btn-link table-editor__pagination-button table-editor__pagination-start"><i class="fa fa-angle-double-left"></i></button>`:""}\n    <button data-mdb-ripple-init data-mdb-ripple-color="${l?"light":"dark"}" class="btn btn-link table-editor__pagination-button table-editor__pagination-left"><i class="fa fa-chevron-left"></i></button>\n    <button data-mdb-ripple-init data-mdb-ripple-color="${l?"light":"dark"}" class="btn btn-link table-editor__pagination-button table-editor__pagination-right"><i class="fa fa-chevron-right"></i></button>\n    ${n?`<button data-mdb-ripple-init data-mdb-ripple-color="${l?"light":"dark"}" class="btn btn-link table-editor__pagination-button table-editor__pagination-end"><i class="fa fa-angle-double-right"></i></button>`:""}\n  </div>\n</div>\n`)(h,o,u):""}\n  `;return{table:b,rows:p,column:f}},st=(t,e,i)=>{const n=(s="div",document.createElement(s));var s;return Q.addClass(n,"modal"),Q.addClass(n,"fade"),n.innerHTML=`\n  <div class="modal-dialog">\n    <div class="modal-content ${i?"bg-dark":""}">\n      <div class="modal-header">\n      </div>\n      <div class="modal-body">\n      </div>\n      <div class="modal-footer">\n        <button data-mdb-ripple-init class="btn shadow-0 btn-md btn-outline-${i?"light":"primary"} modal-discard-button" data-mdb-dismiss="modal">${e}</button>\n        <button data-mdb-ripple-init class="me-2 btn shadow-0 btn-md btn-${i?"light":"primary"} modal-save-button">${t}</button>\n      </div>\n    </div>\n  </div>\n    `,n},ot=(e,i,n)=>e.map(((e,s)=>{const o=((t,e)=>"string"==typeof t?{...e,label:t}:{...e,...t})(e,{...i,field:`field_${s}`,columnIndex:s});return o.options&&"string"==typeof o.options&&(o.options=JSON.parse(o.options.replace(/'/g,'"'))),null!==o.defaultValue&&(o.defaultValue=o.defaultValue.toString()),n&&t("column",o,n),o})),lt=(t,e)=>t.map((t=>{if(Array.isArray(t)){const i={};return e.forEach(((e,n)=>{let s=t[n];"number"!==e.inputType&&"checkbox"!==e.inputType||(s=JSON.parse(s)),i[e.field]=s})),i}return t})),rt=t=>"string"==typeof t?t:`${t}px`,at=t=>{const e=a.closest(t,"tr");return Q.getDataAttribute(e,"index")},ct="tableEditor",dt=`mdb.${ct}`,ht="edited-table",ut="table-editor",pt="[data-mdb-add-entry]",ft="th",bt="input",gt=".table-editor__input-select",mt="[data-mdb-search]",_t=".table-editor__sort-icon",vt="tbody",wt="render.mdb.tableEditor",yt="valueChanged.mdb.select",Et={columnIndex:0,defaultValue:null,editable:!0,field:"",fixed:!1,inputType:"text",label:"",options:null,sort:!0,width:null},xt={columnIndex:"number",defaultValue:"(string|null)",editable:"boolean",field:"string",fixed:"(boolean|string)",inputType:"string",label:"string",options:"(array|null)",width:"(number|null)",sort:"boolean"},Lt={actionHeader:"Actions",actionPosition:"end",bordered:!1,borderless:!1,borderColor:null,cancelText:"Cancel",confirm:!1,confirmText:"Delete",confirmMessage:"Are you sure you want to delete this entry?",color:null,dark:!1,defaultValue:"",editItemHeader:"Edit item",entries:10,entriesOptions:[10,25,50,200],fixedHeader:!1,fullPagination:!1,hover:!1,loaderClass:"bg-primary",loading:!1,loadingMessage:"Loading results...",maxWidth:null,maxHeight:null,mode:"inline",newItemHeader:"New item",noFoundMessage:"No matching results found",pagination:!0,saveText:"Save",sm:!1,striped:!1,rowsText:"Rows per page:"},Rt={actionHeader:"string",actionPosition:"string",bordered:"boolean",borderless:"boolean",borderColor:"(string|null)",cancelText:"string",color:"(string|null)",confirm:"boolean",defaultValue:"string",editItemHeader:"string",entries:"number",entriesOptions:"array",fixedHeader:"boolean",fullPagination:"boolean",hover:"boolean",loaderClass:"string",loading:"boolean",loadingMessage:"string",maxWidth:"(null|number|string)",maxHeight:"(null|number|string)",mode:"string",newItemHeader:"string",noFoundMessage:"string",pagination:"boolean",rowsText:"string",saveText:"string",sm:"boolean",striped:"boolean"};class Tt{constructor(t,e={},i={}){this._element=t,this._options=this._getOptions(i),this._addBtn=this._getDOMElement(pt),this._searchField=this._getDOMElement(mt),this._sortField=null,this._sortOrder=null,this._sortReverse=!1,this._search="",this._searchColumn=null,this._activePage=0,this._paginationLeft=null,this._paginationRight=null,this._paginationStart=null,this._paginationEnd=null,this._select=null,this._selectInstance=null,this._columns=this._getColumns(e.columns),this._rows=this._getRows(e.rows),this._editMode=!1,this._selectedIndex=null,this._tempRow=null,this._newRow=null,this._inline="modal"!==this._options.mode,this._modalInstance=null,this._modal=null,this._timeout=null,this._popconfirmInstances=[],this._element&&(A.setData(t,dt,this),this._perfectScrollbar=null,this._focusTrap=null,this._setup())}static get NAME(){return ct}get rows(){return this._rows.map(((t,e)=>{const i={rowIndex:e};return this._columns.forEach((e=>{i[e.field]=null===t[e.field]?e.defaultValue||this._options.defaultValue:t[e.field]})),i}))}get searchResult(){return((t,e,i)=>{if(!e)return t;const n=t=>t.toString().toLowerCase().match(e.toLowerCase());return t.filter((t=>{if(i&&"string"==typeof i)return n(t[i]);let e=Object.values(t);return i&&Array.isArray(i)&&(e=Object.keys(t).filter((t=>i.includes(t))).map((e=>t[e]))),e.filter((t=>n(t))).length>0}))})(this.rows,this._search,this._searchColumn)}get emptyRow(){const t={};return this._columns.forEach((e=>{t[e.field]=e.defaultValue||this._options.defaultValue})),t}get computedRows(){let t=[...this.searchResult];return this._sortOrder&&(t=(({rows:t,field:e,order:i})=>t.sort(((t,n)=>{let s=t[e],o=n[e];return"string"==typeof s&&(s=s.toLowerCase()),"string"==typeof o&&(o=o.toLowerCase()),s<o?"desc"===i?1:-1:s>o?"desc"===i?-1:1:0})))({rows:t,field:this._sortField,order:this._sortOrder})),this._options.pagination&&(t=(({rows:t,entries:e,activePage:i})=>{const n=i*e;return t.slice(n,n+e)})({rows:t,entries:this._options.entries,activePage:this._activePage})),this._newRow&&this._inline?[this._newRow,...t]:t}get pages(){return Math.ceil(this.searchResult.length/this._options.entries)||1}get navigationText(){const t=this._activePage*this._options.entries;return`${t+1} - ${this.computedRows.length+t} of ${this.searchResult.length}`}get selectedRow(){return a.findOne(`tr[data-mdb-index="${this._selectedIndex}"]`,this._element)}get editElement(){return this._inline?this.selectedRow:a.findOne(".table-editor .modal",this._element)}get modalHeader(){return this._newRow?this._options.newItemHeader:this._options.editItemHeader}get classNames(){return[ut,this._options.color,this._options.borderColor&&`border-${this._options.borderColor}`,this._options.dark&&"dark",this._options.hover&&"hover",this._options.bordered&&"bordered",this._options.borderless&&"borderless",this._options.sm&&"sm",this._options.striped&&"striped",this._options.loading&&"loading"].filter((t=>t))}get tableOptions(){return{columns:this._columns,rows:this.computedRows,inline:this._inline,confirm:this._options.confirm,noFoundMessage:this._options.noFoundMessage,loading:this._options.loading,loaderClass:this._options.loaderClass,loadingMessage:this._options.loadingMessage,editMode:this._editMode,editedRow:this._selectedIndex,dark:this._options.dark,action:{header:this._options.actionHeader,position:this._options.actionPosition,fixed:this._options.actionFixed},pagination:{enable:this._options.pagination,text:this.navigationText,entries:this._options.entries,entriesOptions:this._options.entriesOptions,fullPagination:this._options.fullPagination,rowsText:this._options.rowsText}}}add(t={}){this._newRow={...this.emptyRow,...t,rowIndex:-1},this._renderRows(),this._editRow(-1)}dispose(){clearTimeout(this._timeout),this._options.confirm&&this._popconfirmInstances.forEach((t=>t.dispose())),this._modalInstance&&this._modalInstance.dispose(),this._selectInstance&&this._selectInstance.dispose(),A.removeData(this._element,dt),this._removeEventListeners(),this._perfectScrollbar.destroy(),this._element=null}search(t,e){this._search=t,this._searchColumn=e,this._activePage=0,this._options.pagination&&this._toggleDisableState(),this._renderRows()}update(t,e={}){t&&t.rows&&(this._rows=t.rows),t&&t.columns&&(this._columns=t.columns),this._clearClassList(e),this._options=this._getOptions({...this._options,...e}),this._setup()}_changeActivePage(t){this._activePage=t,this._toggleDisableState(),this._renderRows()}_clearClassList(t){this._options.color&&t.color&&Q.removeClass(this._element,this._options.color),this._options.borderColor&&t.borderColor&&Q.removeClass(this._element,`border-${this._options.borderColor}`),["dark","hover","bordered","borderless","sm","striped","loading"].forEach((e=>{this._options[e]&&!t[e]&&Q.removeClass(this._element,e)}))}_createModal(){this._modal=st(this._options.saveText,this._options.cancelText,this._options.dark),this._element.appendChild(this._modal),this._modalInstance=new mdb.Modal(this._modal,{backdrop:"static",keyboard:!1}),this._setupModalButtons()}_deleteRow(t){const e={...this._rows[t]},i=q.trigger(this._element,"delete.mdb.tableEditor",{row:e});i.defaultPrevented?i.preventDefault():(this._rows=this._rows.filter(((e,i)=>i!==t)),this._renderRows(),this._refreshPagination(),this._triggerUpdate(e,"delete"))}_disableDOMElements(){[this._addBtn,this._searchField].filter((t=>t)).forEach((t=>{t.setAttribute("disabled",!0)}))}_editRow(t){const e=q.trigger(this._element,"editorOpen.mdb.tableEditor");e.defaultPrevented?e.preventDefault():(this._editMode=!0,this._selectedIndex=t,this._tempRow=this._newRow||{...this._rows[this._selectedIndex]},this._disableDOMElements(),this._renderRows(),this._setEditClassName(),this._inline||(this._setModalBody(),this._modalInstance.show()),this._setInputs(),this._setFocusTrap())}_enableDOMElements(){[this._addBtn,this._searchField].filter((t=>t)).forEach((t=>{t.removeAttribute("disabled")}))}_exitEditMode(){this._selectedIndex=null,this._tempRow=null,this._editMode=!1,this._focusTrap=null,this._newRow=null,this._renderRows(),Q.removeClass(this._element,ht),this._enableDOMElements(),this._inline||this._modalInstance.hide(),q.trigger(this._element,"editorExit.mdb.tableEditor")}_getColumns(t=[]){const e=a.findOne("thead",this._element);if(!e)return ot(t,Et,xt);const i=a.findOne("tr",e),n=a.find(ft,i).map((t=>({label:t.innerHTML,...Q.getDataAttributes(t)})));return ot([...n,...t],Et,xt)}_getDOMElement(t){return a.find(t).find((t=>{const e=Q.getDataAttribute(t,"target");return a.findOne(e)===this._element}))}_getOptions(e){const i={...Lt,...Q.getDataAttributes(this._element),...e};return"string"==typeof i.entriesOptions&&(i.entriesOptions=JSON.parse(i.entriesOptions)),t(ct,i,Rt),i}_getRows(t=[]){const e=a.findOne(vt,this._element);if(!e)return lt(t,this._columns);const i=a.find("tr",e).map((t=>a.find("td",t).map((t=>t.innerHTML))));return lt([...i,...t],this._columns)}_renderTable(){this._element.innerHTML=nt(this.tableOptions).table,q.trigger(this._element,wt),this._setupActionButtons()}_saveChanges(){const t={...this._tempRow};let e="";if(this._newRow){const i=q.trigger(this._element,"add.mdb.tableEditor",{row:t});if(i.defaultPrevented)return void i.preventDefault();e="add",this._rows.push(t)}else{const i=q.trigger(this._element,"edit.mdb.tableEditor",{row:t});if(i.defaultPrevented)return void i.preventDefault();e="edit",this._rows[this._selectedIndex]=t}this._triggerUpdate(t,e),this._refreshPagination(),this._exitEditMode()}_setEditClassName(){this._editMode&&this._inline&&(Q.addClass(this.selectedRow,"edited-row"),Q.addClass(this._element,ht))}_setClassNames(){this.classNames.forEach((t=>{Q.addClass(this._element,t)}))}_setActiveSortIcon(t){a.find(_t,this._element).forEach((e=>{const i="desc"===this._sortOrder&&e===t?180:0;Q.style(e,{transform:`rotate(${i}deg)`}),e===t&&this._sortOrder?Q.addClass(e,"active"):Q.removeClass(e,"active")}))}_setEntries(t){this._options=this._getOptions({...this._options,entries:Number(t.target.value)}),this._activePage>this.pages-1&&(this._activePage=this.pages-1),this._toggleDisableState(),this._renderRows()}_setFocusTrap(){const t=this._inline?0:200;this._timeout=setTimeout((()=>{this._focusTrap=new c(this.editElement),this._focusTrap.trap();const t=a.findOne(bt,this.editElement);t&&t.focus()}),t)}_setInputs(){a.find(".form-outline",this._element).forEach((t=>{new mdb.Input(t).init()})),a.find(gt,this._element).forEach((t=>{new mdb.Select(t)})),a.find(bt,this.editElement).forEach((t=>{t.addEventListener("input",(t=>this._updateValue(t)))})),a.find(gt,this.editElement).forEach((t=>{t.addEventListener(yt,(t=>{this._updateValue(t)}))}))}_setModalBody(){const t=(e=this._tempRow,i=this._columns,n=this.modalHeader,s=this._options.dark,{header:`\n  <h4>${n}</h4>`,body:`\n  <form>${i.map((t=>`\n      <div class="my-4 table-editor_input-wrapper" data-mdb-field="${t.field}">${Z({row:e,column:t,edited:!0,showLabel:!0,darkMode:s})}</div>`)).join("\n")}</form>\n  `});var e,i,n,s;a.findOne(".modal-body",this._modal).innerHTML=t.body,a.findOne(".modal-header",this._modal).innerHTML=t.header}_setup(){const{initMDB:t,Ripple:e}=mdb;t({Ripple:e}),this._setClassNames(),this._renderTable(),this._options.pagination&&this._setupPagination(),this._options.selectable&&this._setupSelectable(),this._setupScroll(),this._setupSort(),this._inline||this._createModal(),this._options.loading?this._disableDOMElements():this._enableDOMElements()}_setupModalButtons(){q.on(a.findOne(".modal-save-button",this.editElement),"click",(()=>this._saveChanges())),q.on(a.findOne(".modal-discard-button",this.editElement),"click",(()=>this._exitEditMode()))}_setupActionButtons(){this._editMode?(q.on(a.findOne(".save-button",this.editElement),"click",(()=>this._saveChanges())),q.on(a.findOne(".discard-button",this.editElement),"click",(()=>this._exitEditMode()))):(a.find(".edit-button",this._element).forEach((t=>{t.addEventListener("click",(()=>this._editRow(at(t))))})),a.find(".delete-button",this._element).forEach((t=>{t.addEventListener("click",(()=>{this._deleteRow(at(t))}))})),this._options.confirm&&(this._popconfirmInstances=a.find(".popconfirm-toggle",this._element).map((t=>(t.addEventListener("confirm.mdb.popconfirm",(()=>this._deleteRow(at(t)))),new mdb.Popconfirm(t,{message:this._options.confirmMessage,cancelText:this._options.cancelText,okText:this._options.confirmText}))))))}_setupScroll(){const t=a.findOne(".table-editor__inner",this._element),e={overflow:"auto",position:"relative"};if(this._options.maxHeight&&(e.maxHeight=rt(this._options.maxHeight)),this._options.maxWidth){const t=rt(this._options.maxWidth);e.maxWidth=t,Q.style(this._element,{maxWidth:t})}Q.style(t,e),this._options.fixedHeader&&a.find(ft,this._element).forEach((t=>{Q.addClass(t,"fixed-cell"),Q.addClass(t,this._options.color)})),this._perfectScrollbar=new $(t)}_updateValue(t){const e=a.closest(t.target,"td")||a.closest(t.target,".table-editor_input-wrapper"),i=Q.getDataAttribute(e,"field"),n="checkbox"===t.target.type?t.target.checked:t.target.value;this._tempRow[i]=n}_setupSort(){a.find(_t,this._element).forEach((t=>{const e=Q.getDataAttribute(t,"sort"),[i]=a.parents(t,ft);Q.style(i,{cursor:"pointer"}),q.on(i,"click",(()=>{this._sortField===e&&"asc"===this._sortOrder?this._sortOrder="desc":this._sortField===e&&"desc"===this._sortOrder?this._sortOrder=null:this._sortOrder="asc",this._sortField=e,this._activePage=0,this._toggleDisableState(),this._renderRows(),this._setActiveSortIcon(t)}))}))}_setupPagination(){this._paginationRight=a.findOne(".table-editor__pagination-right",this._element),this._paginationLeft=a.findOne(".table-editor__pagination-left",this._element),this._setupPaginationSelect(),q.on(this._paginationRight,"click",(()=>this._changeActivePage(this._activePage+1))),q.on(this._paginationLeft,"click",(()=>this._changeActivePage(this._activePage-1))),this._options.fullPagination&&(this._paginationStart=a.findOne(".table-editor__pagination-start",this._element),this._paginationEnd=a.findOne(".table-editor__pagination-end",this._element),q.on(this._paginationStart,"click",(()=>this._changeActivePage(0))),q.on(this._paginationEnd,"click",(()=>this._changeActivePage(this.pages-1)))),this._toggleDisableState()}_setupPaginationSelect(){this._select=a.findOne(".table-editor__select",this._element),this._selectInstance&&this._selectInstance.dispose(),this._selectInstance=new mdb.Select(this._select),q.on(this._select,yt,(t=>this._setEntries(t)))}_removeEventListeners(){this._options.pagination&&(q.off(this._paginationRight,"click"),q.off(this._paginationLeft,"click"),q.off(this._select,yt),this._options.fullPagination&&(q.off(this._paginationStart,"click"),q.off(this._paginationEnd,"click"))),a.find(_t,this._element).forEach((t=>{const[e]=a.parents(t,ft);q.off(e,"click")}))}_refreshPagination(){this.pages<this._activePage+1&&this._changeActivePage(this.pages-1),this._toggleDisableState()}_renderRows(){const t=a.findOne(vt,this._element);if(this._options.pagination){a.findOne(".table-editor__pagination-nav",this._element).innerText=this.navigationText}t.innerHTML=nt(this.tableOptions).rows,q.trigger(this._element,wt),this._setupActionButtons()}_toggleDisableState(){0===this._activePage||this._options.loading?(this._paginationLeft.setAttribute("disabled",!0),this._options.fullPagination&&this._paginationStart.setAttribute("disabled",!0)):(this._paginationLeft.removeAttribute("disabled"),this._options.fullPagination&&this._paginationStart.removeAttribute("disabled")),this._activePage===this.pages-1||this._options.loading?(this._paginationRight.setAttribute("disabled",!0),this._options.fullPagination&&this._paginationEnd.setAttribute("disabled",!0)):(this._paginationRight.removeAttribute("disabled"),this._options.fullPagination&&this._paginationEnd.removeAttribute("disabled"))}_triggerUpdate(t,e){q.trigger(this._element,"update.mdb.tableEditor",{row:t,action:e})}static jQueryInterface(t,e,i){return this.each((function(){let n=A.getData(this,dt);const s="object"==typeof t&&t;if((n||!/dispose/.test(t))&&(n||(n=new Tt(this,s,e)),"string"==typeof t)){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e,i)}}))}static getInstance(t){return A.getData(t,dt)}}var St;return a.find("[data-mdb-table-editor-init]").forEach((t=>{let e=Tt.getInstance(t);return e||(e=new Tt(t)),e})),a.find(pt).forEach((t=>{t.addEventListener("click",(()=>{const e=Q.getDataAttribute(t,"target"),i=Tt.getInstance(a.findOne(e));i&&i.add()}))})),a.find(mt).forEach((t=>{t.addEventListener("input",(e=>{const i=Q.getDataAttribute(t,"target"),n=Tt.getInstance(a.findOne(i));n&&n.search(e.target.value)}))})),St=()=>{const t=e();if(t){const e=t.fn[ct];t.fn[ct]=Tt.jQueryInterface,t.fn[ct].Constructor=Tt,t.fn[ct].noConflict=()=>(t.fn[ct]=e,Tt.jQueryInterface)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",St):St(),Tt}));
//# sourceMappingURL=table-editor.min.js.map
