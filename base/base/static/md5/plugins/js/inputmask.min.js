!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).InputMask=e()}(this,(function(){"use strict";var t=Object.defineProperty,e=(e,s,n)=>(((e,s,n)=>{s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n})(e,"symbol"!=typeof s?s+"":s,n),n);const s=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-mdb-no-jquery")?t:null};document.documentElement.dir;const n=(()=>{const t={};let e=1;return{set(s,n,i){void 0===s[n]&&(s[n]={key:n,id:e},e++),t[s[n].id]=i},get(e,s){if(!e||void 0===e[s])return null;const n=e[s];return n.key===s?t[n.id]:null},delete(e,s){if(void 0===e[s])return;const n=e[s];n.key===s&&(delete t[n.id],delete e[s])}}})(),i={setData(t,e,s){n.set(t,e,s)},getData:(t,e)=>n.get(t,e),removeData(t,e){n.delete(t,e)}};function o(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function r(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const l={setDataAttribute(t,e,s){t.setAttribute(`data-mdb-${r(e)}`,s)},removeDataAttribute(t,e){t.removeAttribute(`data-mdb-${r(e)}`)},getDataAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter((t=>t.startsWith("mdb"))).forEach((t=>{let s=t.replace(/^mdb/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=o(e[t])})),e},getDataAttribute:(t,e)=>o(t.getAttribute(`data-mdb-${r(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:t=>({top:t.offsetTop,left:t.offsetLeft}),style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))},addClass(t,e){t.classList.contains(e)||t.classList.add(e)},addStyle(t,e){Object.keys(e).forEach((s=>{t.style[s]=e[s]}))},removeClass(t,e){t.classList.contains(e)&&t.classList.remove(e)},hasClass:(t,e)=>t.classList.contains(e)};let a=Element.prototype.querySelectorAll,u=Element.prototype.querySelector;const c=(()=>{const t=new CustomEvent("Bootstrap",{cancelable:!0}),e=document.createElement("div");return e.addEventListener("Bootstrap",(()=>null)),t.preventDefault(),e.dispatchEvent(t),t.defaultPrevented})(),h=/:scope\b/;(()=>{const t=document.createElement("div");try{t.querySelectorAll(":scope *")}catch(e){return!1}return!0})()||(a=function(t){if(!h.test(t))return this.querySelectorAll(t);const e=Boolean(this.id);e||(this.id=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})("scope"));let s=null;try{t=t.replace(h,`#${this.id}`),s=this.querySelectorAll(t)}finally{e||this.removeAttribute("id")}return s},u=function(t){if(!h.test(t))return this.querySelector(t);const e=d.call(this,t);return void 0!==e[0]?e[0]:null});const d=a,p=u,m=s(),f=/[^.]*(?=\..*)\.|.*/,_=/\..*/,g=/::\d+$/,v={};let y=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},b=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function E(t,e){return e&&`${e}::${y++}`||t.uidEvent||y++}function M(t){const e=E(t);return t.uidEvent=e,v[e]=v[e]||{},v[e]}function P(t,e,s=null){const n=Object.keys(t);for(let i=0,o=n.length;i<o;i++){const o=t[n[i]];if(o.originalHandler===e&&o.delegationSelector===s)return o}return null}function C(t,e,s){const n="string"==typeof e,i=n?s:e;let o=t.replace(_,"");const r=k[o];r&&(o=r);return b.indexOf(o)>-1||(o=t),[n,i,o]}function A(t,e,s,n,i){if("string"!=typeof e||!t)return;s||(s=n,n=null);const[o,r,l]=C(e,s,n),a=M(t),u=a[l]||(a[l]={}),c=P(u,r,o?s:null);if(c)return void(c.oneOff=c.oneOff&&i);const h=E(r,e.replace(f,"")),d=o?function(t,e,s){return function n(i){const o=t.querySelectorAll(e);for(let{target:e}=i;e&&e!==this;e=e.parentNode)for(let r=o.length;r--;"")if(o[r]===e)return n.oneOff&&O.off(t,i.type,s),s.apply(e,[i]);return null}}(t,s,n):function(t,e){return function s(n){return s.oneOff&&O.off(t,n.type,e),e.apply(t,[n])}}(t,s);d.delegationSelector=o?s:null,d.originalHandler=r,d.oneOff=i,d.uidEvent=h,u[h]=d,t.addEventListener(l,d,o)}function L(t,e,s,n,i){const o=P(e[s],n,i);o&&(t.removeEventListener(s,o,Boolean(i)),delete e[s][o.uidEvent])}const O={on(t,e,s,n){A(t,e,s,n,!1)},one(t,e,s,n){A(t,e,s,n,!0)},off(t,e,s,n){if("string"!=typeof e||!t)return;const[i,o,r]=C(e,s,n),l=r!==e,a=M(t),u="."===e.charAt(0);if(void 0!==o){if(!a||!a[r])return;return void L(t,a,r,o,i?s:null)}u&&Object.keys(a).forEach((s=>{!function(t,e,s,n){const i=e[s]||{};Object.keys(i).forEach((o=>{if(o.indexOf(n)>-1){const n=i[o];L(t,e,s,n.originalHandler,n.delegationSelector)}}))}(t,a,s,e.slice(1))}));const c=a[r]||{};Object.keys(c).forEach((s=>{const n=s.replace(g,"");if(!l||e.indexOf(n)>-1){const e=c[s];L(t,a,r,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,s){if("string"!=typeof e||!t)return null;const n=e.replace(_,""),i=e!==n,o=b.indexOf(n)>-1;let r,l=!0,a=!0,u=!1,h=null;return i&&m&&(r=m.Event(e,s),m(t).trigger(r),l=!r.isPropagationStopped(),a=!r.isImmediatePropagationStopped(),u=r.isDefaultPrevented()),o?(h=document.createEvent("HTMLEvents"),h.initEvent(n,l,!0)):h=new CustomEvent(e,{bubbles:l,cancelable:!0}),void 0!==s&&Object.keys(s).forEach((t=>{Object.defineProperty(h,t,{get:()=>s[t]})})),u&&(h.preventDefault(),c||Object.defineProperty(h,"defaultPrevented",{get:()=>!0})),a&&t.dispatchEvent(h),h.defaultPrevented&&void 0!==r&&r.preventDefault(),h}},I={closest:(t,e)=>t.closest(e),matches:(t,e)=>t.matches(e),find:(t,e=document.documentElement)=>[].concat(...d.call(e,t)),findOne:(t,e=document.documentElement)=>p.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const s=[];let n=t.parentNode;for(;n&&n.nodeType===Node.ELEMENT_NODE&&3!==n.nodeType;)this.matches(n,e)&&s.push(n),n=n.parentNode;return s},prev(t,e){let s=t.previousElementSibling;for(;s;){if(s.matches(e))return[s];s=s.previousElementSibling}return[]},next(t,e){let s=t.nextElementSibling;for(;s;){if(this.matches(s,e))return[s];s=s.nextElementSibling}return[]}},S="inputMask",D=`mdb.${S}`,j=`completed.${D}`,w=`valueChanged.${D}`,V={9:{validator:/\d/,symbol:"9"},a:{validator:/[a-zżźąćśńółę]/i,symbol:"a"},"*":{validator:/[a-zżźąćśńółę0-9]/i,symbol:"*"}},$={inputMask:"",charPlaceholder:"_",inputPlaceholder:!0,maskPlaceholder:!1,clearIncomplete:!0,customMask:"",customValidator:""},x={inputMask:"string",charPlaceholder:"string",inputPlaceholder:"boolean",maskPlaceholder:"boolean",clearIncomplete:"boolean",customMask:"string",customValidator:"string"};class F{constructor(t,s={}){e(this,"_setCaretPosition",((t,e)=>{"focus"===e?setTimeout((()=>{this._element.setSelectionRange(t,t,"none")}),0):this._element.setSelectionRange(t,t,"none")})),this._element=t,this._options=this._getConfig(s),this._masks=this._options.masks,this._inputPlaceholder="",this._previousValue="",this._value="",this._isEmpty=!0,this._isCompleted=!1,this._element&&(this._initialValue=this._element.value,i.setData(t,D,this),this._init())}dispose(){this._unbindEvents(),l.removeClass(this._element,"active"),i.removeData(this._element,D),this._element=null}_getConfig(t){const e=l.getDataAttributes(this._element);if("number"==typeof e.inputMask&&(e.inputMask=String(e.inputMask)),t={...$,...e,...t,masks:{...V}},e.customMask&&e.customValidator){const t=this._getCustomMasks(e.customMask,e.customValidator);this._customMasks=t}else if(t.customMask&&t.customValidator){const e=this._getCustomMasks(t.customMask,t.customValidator);this._customMasks=e}return t.masks={...t.masks,...this._customMasks},((t,e,s)=>{Object.keys(s).forEach((n=>{const i=s[n],o=e[n],r=o&&((l=o)[0]||l).nodeType?"element":(t=>null==t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase())(o);var l;if(!new RegExp(i).test(r))throw new Error(`${t.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${i}".`)}))})(S,t,x),t}_init(){""!==this._initialValue?(this._setInputPlaceholderFromMask(this._initialValue),this._validateInputWithMask(this._initialValue)):this._options.inputPlaceholder&&this._uncoverPlaceholder(),this._bindEvents()}_isArray(t){return Array.isArray&&Array.isArray(t)||t instanceof Array}_isValidMaskChar(t){return void 0!==this._masks[t]}_uncoverPlaceholder(){this._element.value="",l.addClass(this._element,"active"),this._element.placeholder=this._options.inputMask}_createInputPlaceholderFromMask(){return this._options.inputMask.split("").map(((t,e)=>this._isValidMaskChar(t)?this._getInputPlaceholderChar(e):t)).join("")}_getCustomMasks(t,e){let s={};return t=t.split(","),e=e.split(","),this._isArray(t)&&this._isArray(e)?t.forEach(((t,n)=>{s={...s,[t]:{validator:e[n],mask:t}}})):s={...s,[t]:{validator:e,mask:t}},s}_getInputPlaceholderChar(t){return 1===this._options.charPlaceholder.length?this._options.charPlaceholder:this._options.charPlaceholder[t]}_getMaskRegex(t){if(!this._masks[t])return!1;const e=this._masks[t].validator;return this._customMasks&&void 0!==this._customMasks[t]?new RegExp(e):e}_setInputPlaceholderFromMask(t){this._element.value=t,this._inputPlaceholder=t}_validateInputWithMask(t){if(this._isCompleted=!1,this._isEmpty=!1,!this._options.inputMask)return t;let e=`^([^${Object.keys(this._masks).join("")}]+)`;e=new RegExp(e);const{isDeleting:s,isFirstWithMask:n,isFirstWithoutMask:i}=this._calculatePositionAndDirection(t);!s&&(n||i)&&e.test(this._options.inputMask)&&(t=e.exec(this._options.inputMask)[0]+t);const o=this._options.inputMask.length;let r="";for(let l=0,a=1;a&&l<o;++l){const e=t.charAt(l),s=this._options.inputMask.charAt(l);if(this._isValidMaskChar(s)){this._getMaskRegex(s).test(e)?r+=e:a=0}else r+=s,e&&e!==s&&(t=`${t}`)}return this._futureCaretPosition=s?r.length-this._calculateCaretJump(r):r.length,r.length===o&&this._handleComplete(r),0===r.length&&(this._isEmpty=!0),O.trigger(this._element,w,{value:r}),r+=this._calculatePlaceholderRest(r,o),r}_calculatePositionAndDirection(t){const e=t.length,s=this._previousValue.length,n=e-this._inputPlaceholder.length,i=this._element.selectionEnd;return{isFirstWithMask:this._options.maskPlaceholder&&1===n&&1===i,isFirstWithoutMask:!this._options.maskPlaceholder&&1===e,isDeleting:e-s<0}}_calculatePlaceholderRest(t,e){let s="";if(this._options.maskPlaceholder)for(let n=t.length;n<e;n++)this._inputPlaceholder[n]===this._getInputPlaceholderChar(n)?s+=this._getInputPlaceholderChar(n):s+=this._inputPlaceholder[n]||this._getInputPlaceholderChar(n);return s}_calculateCaretJump(t){const e=t.length-1;let s=0;for(let n=e;n>=0;n--){const e=this._getMaskRegex(this._options.inputMask.charAt(n));t.charAt(n)&&!e?s++:n=-1}return s>e&&(this._isEmpty=!0),s}_bindEvents(){this._inputListener=this._handleInput.bind(this),this._focusListener=this._handleFocus.bind(this),this._blurListener=this._handleBlur.bind(this),O.on(this._element,"input",this._inputListener),O.on(this._element,"focus",this._focusListener),O.on(this._element,"blur",this._blurListener)}_unbindEvents(){O.off(this._element,"input",this._inputListener),O.off(this._element,"focus",this._focusListener),O.off(this._element,"blur",this._blurListener)}_handleInput(t){let e=t.target.value;e&&e!==this._previousValue&&e.length!==this._previousValue.length&&(e=e.length<this._previousValue.length&&!this._options.maskPlaceholder?e:this._validateInputWithMask(e)),this._element.value=e,this._previousValue=e,this._setCaretPosition(this._futureCaretPosition)}_handleComplete(t){this._isCompleted=!0,O.trigger(this._element,j,{value:t})}_handleFocus(){if(this._previousValue)this._element.value=this._previousValue,this._setCaretPosition(this._futureCaretPosition,"focus");else if(this._options.maskPlaceholder){const t=this._createInputPlaceholderFromMask();this._setInputPlaceholderFromMask(t),this._setCaretPosition(0,"focus")}}_handleBlur(){(this._options.clearIncomplete&&!this._isCompleted||this._options.inputPlaceholder&&(this._isEmpty||0===this._element.value.length))&&(this._previousValue="",this._uncoverPlaceholder())}static get NAME(){return S}static jQueryInterface(t,e){return this.each((function(){let s=i.getData(this,D);const n="object"==typeof t&&t;if((s||!/dispose/.test(t))&&(s||(s=new F(this,n)),"string"==typeof t)){if(void 0===s[t])throw new TypeError(`No method named "${t}"`);s[t](e)}}))}static getInstance(t){return i.getData(t,D)}}var R;return I.find("[data-mdb-input-mask-init]").forEach((t=>{let e=F.getInstance(t);return e||(e=new F(t)),e})),R=()=>{const t=s();if(t){const e=t.fn[S];t.fn[S]=F.jQueryInterface,t.fn[S].Constructor=F,t.fn[S].noConflict=()=>(t.fn[S]=e,F.jQueryInterface)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",R):R(),F}));
//# sourceMappingURL=inputmask.min.js.map
