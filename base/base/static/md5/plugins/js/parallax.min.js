!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Parallax=e()}(this,(function(){"use strict";var t=Object.defineProperty,e=(e,n,i)=>(((e,n,i)=>{n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i})(e,"symbol"!=typeof n?n+"":n,i),i);const n=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-mdb-no-jquery")?t:null};document.documentElement.dir;const i=(()=>{const t={};let e=1;return{set(n,i,s){void 0===n[i]&&(n[i]={key:i,id:e},e++),t[n[i].id]=s},get(e,n){if(!e||void 0===e[n])return null;const i=e[n];return i.key===n?t[i.id]:null},delete(e,n){if(void 0===e[n])return;const i=e[n];i.key===n&&(delete t[i.id],delete e[n])}}})(),s={setData(t,e,n){i.set(t,e,n)},getData:(t,e)=>i.get(t,e),removeData(t,e){i.delete(t,e)}};function o(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function r(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const a={setDataAttribute(t,e,n){t.setAttribute(`data-mdb-${r(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-mdb-${r(e)}`)},getDataAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter((t=>t.startsWith("mdb"))).forEach((t=>{let n=t.replace(/^mdb/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),e[n]=o(e[t])})),e},getDataAttribute:(t,e)=>o(t.getAttribute(`data-mdb-${r(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:t=>({top:t.offsetTop,left:t.offsetLeft}),style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))},addClass(t,e){t.classList.contains(e)||t.classList.add(e)},addStyle(t,e){Object.keys(e).forEach((n=>{t.style[n]=e[n]}))},removeClass(t,e){t.classList.contains(e)&&t.classList.remove(e)},hasClass:(t,e)=>t.classList.contains(e)};let l=Element.prototype.querySelectorAll,h=Element.prototype.querySelector;const c=(()=>{const t=new CustomEvent("Bootstrap",{cancelable:!0}),e=document.createElement("div");return e.addEventListener("Bootstrap",(()=>null)),t.preventDefault(),e.dispatchEvent(t),t.defaultPrevented})(),u=/:scope\b/;(()=>{const t=document.createElement("div");try{t.querySelectorAll(":scope *")}catch(e){return!1}return!0})()||(l=function(t){if(!u.test(t))return this.querySelectorAll(t);const e=Boolean(this.id);e||(this.id=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})("scope"));let n=null;try{t=t.replace(u,`#${this.id}`),n=this.querySelectorAll(t)}finally{e||this.removeAttribute("id")}return n},h=function(t){if(!u.test(t))return this.querySelector(t);const e=d.call(this,t);return void 0!==e[0]?e[0]:null});const d=l,m=h,_=n(),p=/[^.]*(?=\..*)\.|.*/,g=/\..*/,f=/::\d+$/,v={};let y=1;const b={mouseenter:"mouseover",mouseleave:"mouseout"},w=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function x(t,e){return e&&`${e}::${y++}`||t.uidEvent||y++}function E(t){const e=x(t);return t.uidEvent=e,v[e]=v[e]||{},v[e]}function T(t,e,n=null){const i=Object.keys(t);for(let s=0,o=i.length;s<o;s++){const o=t[i[s]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function C(t,e,n){const i="string"==typeof e,s=i?n:e;let o=t.replace(g,"");const r=b[o];r&&(o=r);return w.indexOf(o)>-1||(o=t),[i,s,o]}function O(t,e,n,i,s){if("string"!=typeof e||!t)return;n||(n=i,i=null);const[o,r,a]=C(e,n,i),l=E(t),h=l[a]||(l[a]={}),c=T(h,r,o?n:null);if(c)return void(c.oneOff=c.oneOff&&s);const u=x(r,e.replace(p,"")),d=o?function(t,e,n){return function i(s){const o=t.querySelectorAll(e);for(let{target:e}=s;e&&e!==this;e=e.parentNode)for(let r=o.length;r--;"")if(o[r]===e)return i.oneOff&&A.off(t,s.type,n),n.apply(e,[s]);return null}}(t,n,i):function(t,e){return function n(i){return n.oneOff&&A.off(t,i.type,e),e.apply(t,[i])}}(t,n);d.delegationSelector=o?n:null,d.originalHandler=r,d.oneOff=s,d.uidEvent=u,h[u]=d,t.addEventListener(a,d,o)}function S(t,e,n,i,s){const o=T(e[n],i,s);o&&(t.removeEventListener(n,o,Boolean(s)),delete e[n][o.uidEvent])}const A={on(t,e,n,i){O(t,e,n,i,!1)},one(t,e,n,i){O(t,e,n,i,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[s,o,r]=C(e,n,i),a=r!==e,l=E(t),h="."===e.charAt(0);if(void 0!==o){if(!l||!l[r])return;return void S(t,l,r,o,s?n:null)}h&&Object.keys(l).forEach((n=>{!function(t,e,n,i){const s=e[n]||{};Object.keys(s).forEach((o=>{if(o.indexOf(i)>-1){const i=s[o];S(t,e,n,i.originalHandler,i.delegationSelector)}}))}(t,l,n,e.slice(1))}));const c=l[r]||{};Object.keys(c).forEach((n=>{const i=n.replace(f,"");if(!a||e.indexOf(i)>-1){const e=c[n];S(t,l,r,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,n){if("string"!=typeof e||!t)return null;const i=e.replace(g,""),s=e!==i,o=w.indexOf(i)>-1;let r,a=!0,l=!0,h=!1,u=null;return s&&_&&(r=_.Event(e,n),_(t).trigger(r),a=!r.isPropagationStopped(),l=!r.isImmediatePropagationStopped(),h=r.isDefaultPrevented()),o?(u=document.createEvent("HTMLEvents"),u.initEvent(i,a,!0)):u=new CustomEvent(e,{bubbles:a,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((t=>{Object.defineProperty(u,t,{get:()=>n[t]})})),h&&(u.preventDefault(),c||Object.defineProperty(u,"defaultPrevented",{get:()=>!0})),l&&t.dispatchEvent(u),u.defaultPrevented&&void 0!==r&&r.preventDefault(),u}},H={closest:(t,e)=>t.closest(e),matches:(t,e)=>t.matches(e),find:(t,e=document.documentElement)=>[].concat(...d.call(e,t)),findOne:(t,e=document.documentElement)=>m.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let i=t.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)this.matches(i,e)&&n.push(i),i=i.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]}},$="parallax",I="mdb.parallax",L=`${$}-slider`,D=`.${L}`,V=`.${$}-content`,j={imageSrc:"",direction:"up",delay:.4,scale:1.3,transition:"cubic-bezier(0,0,0,1)",maxTransition:0,maxHeight:0,horizontalAlignment:"center",verticalAlignment:"center",overflow:!1},P={imageSrc:"string",direction:"string",delay:"number",scale:"number",transition:"string",maxTransition:"number",maxHeight:"number",horizontalAlignment:"string",verticalAlignment:"string",overflow:"boolean"};class R{constructor(t,n={}){e(this,"_handleFrameLoop",(()=>{this._getViewportOffsets(),this._lastViewportPosition!==this._viewportTop?(this._getElementOffset(),this._translateElement(),this._frameID=window.requestAnimationFrame(this._handleFrameLoop),this._lastViewportPosition=this._viewportTop):this._frameID=window.requestAnimationFrame(this._handleFrameLoop)})),this._element=t,this._options=this._getConfig(n),this._image=null,this._imageContainer=null,this._contentContainer=null,this._isInit=!1,this._zIndex=-100,this._isVisible=!1,this._viewportTop=null,this._viewportHeight=null,this._viewportBottom=null,this._elementBottom=null,this._elementHeight=null,this._elementTop=null,this._lastViewportPosition=-1,this._frameID=null,this._resizeWindowHandler=()=>this._refresh(),this._element&&s.setData(t,I,this),this._createImageWrapper()}dispose(){A.off(window,"resize",this._resizeWindowHandler),window.cancelAnimationFrame(this._frameID),this._disposeContainers(),s.removeData(this._element,I),this._element=null}_getConfig(t){const e=a.getDataAttributes(this._element);return t={...j,...e,...t},((t,e,n)=>{Object.keys(n).forEach((i=>{const s=n[i],o=e[i],r=o&&((a=o)[0]||a).nodeType?"element":(t=>null==t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase())(o);var a;if(!new RegExp(s).test(r))throw new Error(`${t.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${s}".`)}))})($,t,P),t}_init(){this._isInit||(this._getTranslateValue(),this._translate(),this._handleFrameLoop(),this._listenToWindowResize(),this._isInit=!0)}_translateElement(){if(!this._isVisible)return;this._getTranslateValue()&&this._translate()}_createImageWrapper(){if(!this._options.imageSrc)return;const t=document.createElement("div"),e=document.createElement("img");e.setAttribute("src",this._options.imageSrc),e.setAttribute("alt",""),a.addStyle(this._element,{position:"relative"}),a.addClass(t,L),a.addStyle(t,{position:"absolute",top:"0px",left:"0px",overflow:""+(!1===this._options.overflow?"hidden":"")}),t.appendChild(e),this._element.insertBefore(t,this._element.firstChild),A.on(e,"load",(()=>{setTimeout((()=>{this._handleImageLoaded(e)}),100)}))}_handleImageLoaded(t){this._image=t,this._setContainersDimensions(),this._getMaxTranslateRange(),this._setImageStyles(),this._getViewportOffsets(),this._getElementOffset(),this._imageIntersectionObserver(),this._init()}_disposeContainers(){null!==this._contentContainer&&(a.addStyle(this._contentContainer,{height:"auto"}),this._contentContainer=null),this._imageContainer&&(this._imageContainer.parentNode.removeChild(this._imageContainer),this._imageContainer=null)}_setContainersDimensions(){const t=this._options.maxHeight>0&&this._options.maxHeight<=this._image.naturalHeight?this._options.maxHeight:this._image.naturalHeight;a.addStyle(this._element,{height:`${t}px`,width:"100%"}),this._imageContainer=H.findOne(D,this._element),a.addStyle(this._imageContainer,{height:`${t}px`,width:"100%"}),this._contentContainer=H.findOne(V,this._element),null!==this._contentContainer&&a.addStyle(this._contentContainer,{height:"100%"}),this._getMaxTranslateRange()}_setImageStyles(){let t=0;this._options.maxHeight>0&&this._options.maxHeight<=this._image.naturalHeight&&("top"===this._options.verticalAlignment?t="0px":"center"===this._options.verticalAlignment?t=`${Number(this._maxTranslateRange.y)+this._image.naturalHeight/-2}px`:"bottom"===this._options.verticalAlignment&&(t=this._maxTranslateRange.y/2+this._image.naturalHeight/-2+"px")),this._options.delay>0&&a.addStyle(this._image,{transition:`transform ${this._options.delay}s ${this._options.transition}`}),!1===this._options.overflow&&a.addStyle(this._image,{transform:`scale(${this._options.scale})`}),a.addStyle(this._image,{willChange:"transform",position:"absolute",top:t}),a.addStyle(this._image,{display:"block",opacity:1,transform:"scale(1)"})}_getViewportOffsets(){this._viewportTop=window.scrollY,this._viewportHeight=document.documentElement.clientHeight,this._viewportBottom=this._viewportTop+this._viewportHeight}_getElementOffset(){const t=this._element.getBoundingClientRect();this._elementHeight=t.height,this._elementTop=t.top+this._viewportTop,this._elementBottom=this._elementHeight+this._elementTop}_imageIntersectionObserver(){this._observer=new IntersectionObserver(this._setIsVisible.bind(this),{root:null,threshold:0}),this._observer.observe(this._element)}_setIsVisible(t){t.forEach((t=>{t.isIntersecting?this._isVisible=!0:this._isVisible=!1}))}_createThreshold(){const t=[];for(let e=1;e<=this._elementHeight;e++){const n=e/this._elementHeight;t.push(n)}return t}_getMaxTranslateRange(){this._maxTranslateRange={x:(this._image.naturalWidth*this._options.scale-this._image.naturalWidth).toFixed(0),y:(this._image.naturalHeight*this._options.scale-this._image.naturalHeight).toFixed(0)}}_getPercentage(){let t=((this._viewportBottom-this._elementTop)/((this._viewportHeight+this._elementHeight)/100)).toFixed(1);t=Math.min(100,Math.max(0,t)),this._percentage=t}_getTranslateValue(){return this._getPercentage(),0!==this._options.maxTransition&&this._percentage>this._options.maxTransition&&(this._percentage=this._options.maxTransition),this._previousPercentage!==this._percentage&&(this._maxTranslateRange||this._getMaxTranslateRange(),this._translateValue={x:(this._percentage/100*this._maxTranslateRange.x-this._maxTranslateRange.x/2).toFixed(0),y:(this._percentage/100*this._maxTranslateRange.y-this._maxTranslateRange.y/2).toFixed(0)},this._previousTranslateValue!==this._translateValue&&(this._previousPercentage=this._percentage,this._previousTranslateValue=this._translateValue,!0))}_translate(){let t,e,n=0,i=0;(this._options.direction.includes("left")||this._options.direction.includes("right"))&&(i=`${this._options.direction.includes("left")?-1*this._translateValue.y:this._translateValue.y}px`),(this._options.direction.includes("up")||this._options.direction.includes("down"))&&(n=`${this._options.direction.includes("up")?-1*this._translateValue.y:this._translateValue.y}px`),t=!1===this._options.overflow?`translate3d(${i}, ${n}, 0) scale(${this._options.scale})`:`translate3d(${i}, ${n}, 0)`,"left"===this._options.horizontalAlignment?e="translateX(10%)":"right"===this._options.horizontalAlignment?e="translateX(-10%)":"center"===this._options.horizontalAlignment&&(e="translateX(0%)"),a.addStyle(this._image,{transform:t+e})}_refresh(){this._getViewportOffsets(),this._getElementOffset(),this._getMaxTranslateRange(this._image.naturalHeight),this._lastViewportPosition=-1,this._translate()}_listenToWindowResize(){A.on(window,"resize",this._resizeWindowHandler)}static get NAME(){return $}static jQueryInterface(t,e){return this.each((function(){let n=s.getData(this,I);const i="object"==typeof t&&t;if((n||!/dispose/.test(t))&&(n||(n=new R(this,i)),"string"==typeof t)){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}static getInstance(t){return s.getData(t,I)}static init(t){let e=R.getInstance(t);return e||(e=new R(t)),e}}var k;return H.find("[data-mdb-parallax-init]").forEach((t=>{let e=R.getInstance(t);return e||(e=new R(t)),e})),k=()=>{const t=n();if(t){const e=t.fn[$];t.fn[$]=R.jQueryInterface,t.fn[$].Constructor=R,t.fn[$].noConflict=()=>(t.fn[$]=e,R.jQueryInterface)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",k):k(),R}));
//# sourceMappingURL=parallax.min.js.map
