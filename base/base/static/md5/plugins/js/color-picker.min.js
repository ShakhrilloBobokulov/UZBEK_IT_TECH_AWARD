!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ColorPicker=t()}(this,(function(){"use strict";const e=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-mdb-no-jquery")?e:null};document.documentElement.dir;const t=(()=>{const e={};let t=1;return{set(o,n,r){void 0===o[n]&&(o[n]={key:n,id:t},t++),e[o[n].id]=r},get(t,o){if(!t||void 0===t[o])return null;const n=t[o];return n.key===o?e[n.id]:null},delete(t,o){if(void 0===t[o])return;const n=t[o];n.key===o&&(delete e[n.id],delete t[o])}}})(),o={setData(e,o,n){t.set(e,o,n)},getData:(e,o)=>t.get(e,o),removeData(e,o){t.delete(e,o)}};function n(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function r(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const s={setDataAttribute(e,t,o){e.setAttribute(`data-mdb-${r(t)}`,o)},removeDataAttribute(e,t){e.removeAttribute(`data-mdb-${r(t)}`)},getDataAttributes(e){if(!e)return{};const t={...e.dataset};return Object.keys(t).filter((e=>e.startsWith("mdb"))).forEach((e=>{let o=e.replace(/^mdb/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),t[o]=n(t[e])})),t},getDataAttribute:(e,t)=>n(e.getAttribute(`data-mdb-${r(t)}`)),offset(e){const t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},position:e=>({top:e.offsetTop,left:e.offsetLeft}),style(e,t){Object.assign(e.style,t)},toggleClass(e,t){e&&(e.classList.contains(t)?e.classList.remove(t):e.classList.add(t))},addClass(e,t){e.classList.contains(t)||e.classList.add(t)},addStyle(e,t){Object.keys(t).forEach((o=>{e.style[o]=t[o]}))},removeClass(e,t){e.classList.contains(t)&&e.classList.remove(t)},hasClass:(e,t)=>e.classList.contains(t)};let i=Element.prototype.querySelectorAll,a=Element.prototype.querySelector;const l=(()=>{const e=new CustomEvent("Bootstrap",{cancelable:!0}),t=document.createElement("div");return t.addEventListener("Bootstrap",(()=>null)),e.preventDefault(),t.dispatchEvent(e),e.defaultPrevented})(),c=/:scope\b/;(()=>{const e=document.createElement("div");try{e.querySelectorAll(":scope *")}catch(t){return!1}return!0})()||(i=function(e){if(!c.test(e))return this.querySelectorAll(e);const t=Boolean(this.id);t||(this.id=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})("scope"));let o=null;try{e=e.replace(c,`#${this.id}`),o=this.querySelectorAll(e)}finally{t||this.removeAttribute("id")}return o},a=function(e){if(!c.test(e))return this.querySelector(e);const t=d.call(this,e);return void 0!==t[0]?t[0]:null});const d=i,h=a,u=e(),p=/[^.]*(?=\..*)\.|.*/,m=/\..*/,f=/::\d+$/,_={};let b=1;const g={mouseenter:"mouseover",mouseleave:"mouseout"},v=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function k(e,t){return t&&`${t}::${b++}`||e.uidEvent||b++}function y(e){const t=k(e);return e.uidEvent=t,_[t]=_[t]||{},_[t]}function C(e,t,o=null){const n=Object.keys(e);for(let r=0,s=n.length;r<s;r++){const s=e[n[r]];if(s.originalHandler===t&&s.delegationSelector===o)return s}return null}function w(e,t,o){const n="string"==typeof t,r=n?o:t;let s=e.replace(m,"");const i=g[s];i&&(s=i);return v.indexOf(s)>-1||(s=e),[n,r,s]}function P(e,t,o,n,r){if("string"!=typeof t||!e)return;o||(o=n,n=null);const[s,i,a]=w(t,o,n),l=y(e),c=l[a]||(l[a]={}),d=C(c,i,s?o:null);if(d)return void(d.oneOff=d.oneOff&&r);const h=k(i,t.replace(p,"")),u=s?function(e,t,o){return function n(r){const s=e.querySelectorAll(t);for(let{target:t}=r;t&&t!==this;t=t.parentNode)for(let i=s.length;i--;"")if(s[i]===t)return n.oneOff&&$.off(e,r.type,o),o.apply(t,[r]);return null}}(e,o,n):function(e,t){return function o(n){return o.oneOff&&$.off(e,n.type,t),t.apply(e,[n])}}(e,o);u.delegationSelector=s?o:null,u.originalHandler=i,u.oneOff=r,u.uidEvent=h,c[h]=u,e.addEventListener(a,u,s)}function x(e,t,o,n,r){const s=C(t[o],n,r);s&&(e.removeEventListener(o,s,Boolean(r)),delete t[o][s.uidEvent])}const $={on(e,t,o,n){P(e,t,o,n,!1)},one(e,t,o,n){P(e,t,o,n,!0)},off(e,t,o,n){if("string"!=typeof t||!e)return;const[r,s,i]=w(t,o,n),a=i!==t,l=y(e),c="."===t.charAt(0);if(void 0!==s){if(!l||!l[i])return;return void x(e,l,i,s,r?o:null)}c&&Object.keys(l).forEach((o=>{!function(e,t,o,n){const r=t[o]||{};Object.keys(r).forEach((s=>{if(s.indexOf(n)>-1){const n=r[s];x(e,t,o,n.originalHandler,n.delegationSelector)}}))}(e,l,o,t.slice(1))}));const d=l[i]||{};Object.keys(d).forEach((o=>{const n=o.replace(f,"");if(!a||t.indexOf(n)>-1){const t=d[o];x(e,l,i,t.originalHandler,t.delegationSelector)}}))},trigger(e,t,o){if("string"!=typeof t||!e)return null;const n=t.replace(m,""),r=t!==n,s=v.indexOf(n)>-1;let i,a=!0,c=!0,d=!1,h=null;return r&&u&&(i=u.Event(t,o),u(e).trigger(i),a=!i.isPropagationStopped(),c=!i.isImmediatePropagationStopped(),d=i.isDefaultPrevented()),s?(h=document.createEvent("HTMLEvents"),h.initEvent(n,a,!0)):h=new CustomEvent(t,{bubbles:a,cancelable:!0}),void 0!==o&&Object.keys(o).forEach((e=>{Object.defineProperty(h,e,{get:()=>o[e]})})),d&&(h.preventDefault(),l||Object.defineProperty(h,"defaultPrevented",{get:()=>!0})),c&&e.dispatchEvent(h),h.defaultPrevented&&void 0!==i&&i.preventDefault(),h}},E={closest:(e,t)=>e.closest(t),matches:(e,t)=>e.matches(t),find:(e,t=document.documentElement)=>[].concat(...d.call(t,e)),findOne:(e,t=document.documentElement)=>h.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const o=[];let n=e.parentNode;for(;n&&n.nodeType===Node.ELEMENT_NODE&&3!==n.nodeType;)this.matches(n,t)&&o.push(n),n=n.parentNode;return o},prev(e,t){let o=e.previousElementSibling;for(;o;){if(o.matches(t))return[o];o=o.previousElementSibling}return[]},next(e,t){let o=e.nextElementSibling;for(;o;){if(this.matches(o,t))return[o];o=o.nextElementSibling}return[]}},O=()=>'\n      <div class="color-picker-canvas-wrapper">\n        <div class="color-picker-canvas-dot"></div>\n        <canvas width="350" height="350"></canvas>\n      </div>\n    ',D=()=>'\n      <div class="color-picker-controls d-flex align-items-center p-2">\n        <div class="color-picker-color-dot-wrapper">\n          <div class="color-picker-color-dot">\n          </div>\n        </div>\n        <div class="ps-4 w-100">\n          <div class="color-picker-range">\n            <input type="range" class="form-range" value="0" min="0" max="360" id="hueRange"/>\n          </div>\n          <div class="color-picker-range">\n            <div class="color-picker-range-alpha">\n              <input type="range" class="form-range" value="1" min="0" max="1" step="0.01" id="alphaRange"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    ',F=()=>'<div class="color-picker-color-inputs-wrapper d-flex align-items-center p-2"></div>',A=e=>`\n      <div class="form-outline me-2">\n        <input type="number" id="input-1" class="form-control text-center me-2" min=0 />\n        <label class="form-label" for="input-1">${e[0]}</label>\n      </div>\n      <div class="form-outline me-2">\n        <input type="number" id="input-2" class="form-control text-center me-2" min=0 />\n        <label class="form-label" for="input-2">${e[1]}</label>\n      </div>\n      <div class="form-outline me-2">\n        <input type="number" id="input-3" class="form-control text-center me-2" min=0 />\n        <label class="form-label" for="input-3">${e[2]}</label>\n      </div>\n      <div class="form-outline">\n        <input type="number" id="input-4" class="form-control text-center me-2" min=0 />\n        <label class="form-label" for="input-4">${e[3]}</label>\n      </div>\n    `,M=()=>'\n      <div class="form-outline me-2">\n        <input type="text" class="form-control text-center me-2" />\n        <label class="form-label" for="hex-input">Hex</label>\n      </div>\n    ',S=()=>'\n      <div class="color-picker-change-view-icons d-flex flex-column align-items-center">\n        <button id="next-format" type="button" class="btn btn-link btn-sm color-picker-next-format-button py-0 px-2" data-mdb-ripple-init>\n          <i class="fas fa-angle-up"></i>\n        </button>\n        <button id="previous-format" type="button" class="btn btn-link btn-sm color-picker-previous-format-button py-0 px-2" data-mdb-ripple-init>\n          <i class="fas fa-angle-down"></i>\n        </button>\n      </div>\n    ',L=()=>'\n      <button id="copy-code" class="btn btn-link color-picker-copy-button py-0 px-2" data-mdb-ripple-init><i class="far fa-copy"></i></button>\n    ',R=e=>{const t=e.length,o=document.createElement("div"),n=document.createElement("div");o.classList.add("color-picker-swatches","p-2"),n.classList.add("row");for(let r=0;r<t;r++){const t=document.createElement("div");t.classList.add("col"),e[r].forEach((e=>{const o=document.createElement("div");o.setAttribute("tabindex",1),o.classList.add("mb-1","color-picker-swatches-color"),o.style.backgroundColor=e,t.append(o)})),n.append(t)}return o.append(n),o},I=e=>{const t=document.createElement("div");t.classList.add("dropdown"),e.parentNode.insertBefore(t,e),e.classList.add("dropdown-menu"),t.appendChild(e),t.insertAdjacentHTML("afterbegin",'<a\n        class="btn btn-light"\n        href="#"\n        role="button"\n        id="dropdownMenuLink"\n        data-mdb-ripple-init\n        data-mdb-dropdown-init\n        aria-expanded="false"\n      > Open </a>')},H=e=>{const{h:t,s:o,l:n,a:r}=e,s=n+o*Math.min(n,1-n);return{h:t,s:0===s?0:2-2*n/s,v:s,a:r}},T=e=>{const{h:t,s:o,v:n,a:r}=e;let s=n-n*o/2,i=1===s||0===s?0:(n-s)/Math.min(s,1-s);return s=Number(s.toFixed(2)),i=Number(i.toFixed(2)),{h:t,s:i,l:s,a:r}},j=e=>{const{h:t,s:o,v:n,a:r}=e,s=e=>{const r=(e+t/60)%6;return n-n*o*Math.max(Math.min(r,4-r,1),0)};return{r:Math.round(255*s(5)),g:Math.round(255*s(3)),b:Math.round(255*s(1)),a:r}},B=e=>{const t=H(e);return j(t)},N=e=>{const t=e=>{const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()};return`#${t(e.r)}${t(e.g)}${t(e.b)}${t(Math.round(255*e.a))}`},V=e=>{if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,o=e.g/255,n=e.b/255,r=Math.max(t,o,n),s=Math.min(t,o,n),i=r-s;let a=0;r!==s&&(r===t?a=(o-n)/i*60:r===o?a=60*(2+(n-t)/i):r===n&&(a=60*(4+(t-o)/i))),a<0&&(a+=360);let l=0===r?0:i/r,c=r;const d=e.a;return a=Number(a.toFixed()),l=Number(l.toFixed(2)),c=Number(c.toFixed(2)),{h:a,s:l,v:c,a:d}},q=e=>{const t=V(e);return T(t)},Q=e=>{const t=e.r/255,o=e.g/255,n=e.b/255;let r=1-Math.max(t,o,n),s=(1-t-r)/(1-r),i=(1-o-r)/(1-r),a=(1-n-r)/(1-r);return s=Math.round(100*s),i=Math.round(100*i),a=Math.round(100*a),r=Math.round(100*r),{c:s,m:i,y:a,k:r}},W=e=>{let t=e.match(/^(#|cmyk|(rgb|hsl|hsv)a?)/)[0];if("#"===t)return{format:t,color:e};t.match(/a/)||(t+="a");const o={},n=t.split(""),r=e.match(/\d+\.?(\d+)?/g);return o.format=t,o[n[0]]=Number(r[0]),o[n[1]]=Number(r[1]),o[n[2]]=Number(r[2]),o[n[3]]=Number(r[3])||1,o},z=e=>{const t=((e,t=1)=>{const o={},n=e.c/100,r=e.m/100,s=e.y/100,i=e.k/100;return o.r=1-Math.min(1,n*(1-i)+i),o.g=1-Math.min(1,r*(1-i)+i),o.b=1-Math.min(1,s*(1-i)+i),o.r=Math.round(255*o.r),o.g=Math.round(255*o.g),o.b=Math.round(255*o.b),o.a=t,o})(e),o=V(t);return{rgba:t,hsla:q(t),hsva:o,hex:N(t),cmyk:e}},G=e=>{const t=((e,t=1)=>{let o=(e=(e=e.substring(1,e.length)).split(""))[0]+e[0],n=e[1]+e[1],r=e[2]+e[2];return e.length>=6&&(o=e[0]+e[1],n=e[2]+e[3],r=e[4]+e[5]),{r:parseInt(o,16),g:parseInt(n,16),b:parseInt(r,16),a:t}})(e),o=V(t);return{rgba:t,hsla:q(t),hsva:o,hex:e,cmyk:Q(t)}},U=(e,t)=>{let o;switch(e){case"rgba":o={rgba:n=t,hsla:q(n),hsva:V(n),hex:N(n),cmyk:Q(n)};break;case"hsla":o=(e=>{const t=B(e);return{rgba:t,hsla:e,hsva:H(e),hex:N(t),cmyk:Q(t)}})(t);break;case"hsva":o=(e=>{const t=j(e);return{rgba:t,hsla:T(e),hsva:e,hex:N(t),cmyk:Q(t)}})(t);break;case"#":o=G(t.color);break;case"hex":o=G(t);break;case"cmyk":o=z(t)}var n;return o},X="colorPicker",Y=`mdb.${X}`,Z=`.${Y}`,J={colorPickerColorInputs:!0,colorPickerChangeFormatBtn:!0,colorPickerColorPalette:!0,colorPickerCopyIcon:!0,colorPickerSwatches:[],colorPickerSwatchesHeight:0,colorPickerValue:"",colorPickerDisabled:!1,colorPickerDropdown:!1,colorPickerDisabledAlpha:!1,colorPickerDisabledHue:!1,colorPickerType:""},K={colorPickerColorInputs:"boolean",colorPickerChangeFormatBtn:"boolean",colorPickerColorPalette:"boolean",colorPickerCopyIcon:"boolean",colorPickerSwatches:"array",colorPickerSwatchesHeight:"number",colorPickerValue:"string",colorPickerDisabled:"boolean",colorPickerDropdown:"boolean",colorPickerDisabledAlpha:"boolean",colorPickerDisabledHue:"boolean",colorPickerType:"string"},ee=["rgba","hsla","hsva","hex","cmyk"],te={rgba:{r:255,b:0,g:0,a:1},hsla:{h:0,s:1,l:.5,a:1},hsva:{h:0,s:1,v:1,a:1},hex:"#FF0000FF",cmyk:{c:0,m:100,y:100,k:0}},oe="color-picker-color-inputs-wrapper",ne="disabled",re="#hueRange",se="#alphaRange",ie="#hex",ae=`.${oe} input`,le="#copy-code",ce=".color-picker-canvas-wrapper canvas",de=`.${oe} label`,he=`.${oe}`,ue="input",pe=`change${Z}`,me=`click${Z}`,fe=`keydown${Z}`,_e=`mousedown${Z}`,be=`mouseup${Z}`,ge=`mousemove${Z}`,ve=`colorChanged${Z}`,ke=`open${Z}`,ye=`close${Z}`;class Ce{constructor(e,t={}){this._element=e,this._options=this._getConfig(t),this._colors=te,this._currentFormat="hsla",this._currentFormatValue="",this._isMouseDown=!1,this._element&&(this._init(),o.setData(e,Y,this))}dispose(){o.removeData(this._element,Y),this._element=null,this._options=null,this._colors=null,this._currentFormat=null,this._currentFormatValue=null,this._isMouseDown=null}_getConfig(e){return e={...J,...s.getDataAttributes(this._element),...e},((e,t,o)=>{Object.keys(o).forEach((n=>{const r=o[n],s=t[n],i=s&&((a=s)[0]||a).nodeType?"element":(e=>null==e?`${e}`:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase())(s);var a;if(!new RegExp(r).test(i))throw new Error(`${e.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${r}".`)}))})(X,e,K),e}_init(){const{initMDB:e,Ripple:t,Dropdown:o}=mdb;if(e({Ripple:t,Dropdown:o}),this._createColorPicker(),this._updateColors(),this._options.colorPickerColorPalette&&this._drawCanvas(),this._setDefaultValue(),this._currentFormat="hsla",this._options.colorPickerType){this._currentFormat=this._options.colorPickerType;const e=ee.indexOf(this._currentFormat);this._changeColorFormat(e)}this._updateColors(),this._updatePicker(),this._updateAlphaRangeBackground(),this._options.colorPickerDisabled?this._setDisable():(this._bindOnChangeRange(),this._bindMouseEvents(),this._bindSwatchesEvents())}_createColorPicker(){if(this._options.colorPickerDropdown&&(I(this._element),this._initDropdown(),this._bindDropdownEvents()),this._options.colorPickerColorPalette&&(this._element.insertAdjacentHTML("afterbegin",O()),this._setCanvasMaxWidth()),this._element.insertAdjacentHTML("beforeend",D()),this._options.colorPickerColorInputs){this._element.insertAdjacentHTML("beforeend",F());E.findOne(he,this._element).insertAdjacentHTML("beforeend",A(["h","s","l","a"])),this._updateInputs(),this._initInputs(),this._bindOnInputChange()}if(this._options.colorPickerChangeFormatBtn){E.findOne(he,this._element).insertAdjacentHTML("beforeend",S()),this._bindChangeFormat()}if(this._options.colorPickerCopyIcon){E.findOne(he,this._element).insertAdjacentHTML("beforeend",L()),this._bindCopyCodeToClipboard()}if(this._options.colorPickerSwatches.length){const e=R(this._options.colorPickerSwatches);this._options.colorPickerSwatchesHeight&&(e.style.maxHeight=`${this._options.colorPickerSwatchesHeight}px`),this._element.appendChild(e)}}_setDisable(){if(this._options.colorPickerColorInputs){E.find(ae,this._element).forEach((e=>{e.disabled=!0}))}if(this._options.colorPickerChangeFormatBtn){E.find(".color-picker-change-view-icons button",this._element).forEach((e=>{e.classList.add(ne)}))}if(this._options.colorPickerCopyIcon){E.findOne(le,this._element).classList.add(ne)}E.find(".color-picker-controls input",this._element).forEach((e=>{e.disabled=!0}))}_setCanvasMaxWidth(){const e=E.findOne(ce,this._element);this._element.style.maxWidth=`${e.width}px`}_bindOnChangeRange(){const e=E.findOne(re,this._element),t=E.findOne(se,this._element);this._options.colorPickerDisabledHue&&e.setAttribute("disabled",!0),this._options.colorPickerDisabledAlpha&&t.setAttribute("disabled",!0),$.on(e,ue,(()=>{this._colors.hsla.h=e.value,this._updatePickersColorsAndPositions(),this._updateAlphaRangeBackground()})),$.on(t,ue,(()=>{this._colors.hsla.a=t.value,this._updatePickersColorsAndPositions()}))}_updatePickersColorsAndPositions(){this._updateColors(),this._options.colorPickerColorPalette&&this._drawCanvas(),this._updateColorDot(),this._updateInputs()}_bindOnInputChange(){if("hex"===this._currentFormat){const e=E.findOne(ie,this._element);$.on(e,ue,(e=>{this._currentFormatValue=e.target.value,this._updateColors(this._currentFormat,this._currentFormatValue),this._options.colorPickerColorPalette&&this._updateCanvasDot(),this._options.colorPickerColorPalette&&this._drawCanvas(),this._updateHueRange(),this._updateAlphaRangeBackground(),this._updateColorDot()}))}else{E.find(ae,this._element).forEach((e=>{$.on(e,pe,(e=>{const t=e.target.id;this._currentFormatValue[t]=Number(e.target.value),this._updateColors(this._currentFormat,this._currentFormatValue),this._options.colorPickerColorPalette&&this._updateCanvasDot(),this._options.colorPickerColorPalette&&this._drawCanvas(),this._updateHueRange(),this._updateAlphaRangeBackground(),this._updateAlphaRange(),this._updateColorDot()}))}))}}_bindSwatchesEvents(){E.find(".color-picker-swatches-color",this._element).forEach((e=>{$.on(e,me,(e=>{const t=W(e.target.style.backgroundColor);this._updateColors(t.format,t),this._updatePicker(),this._options.colorPickerColorPalette&&this._drawCanvas(),this._updateAlphaRangeBackground(),this._updateHueRange(),this._updateAlphaRange()})),$.on(e,fe,(e=>{if("Enter"===e.key||" "===e.key||"Spacebar"===e.key){e.preventDefault();const t=W(e.target.style.backgroundColor);this._updateColors(t.format,t),this._updatePicker(),this._options.colorPickerColorPalette&&this._drawCanvas(),this._updateAlphaRangeBackground(),this._updateHueRange(),this._updateAlphaRange()}}))}))}_bindDropdownEvents(){const e=E.parents(this._element,".dropdown")[0];$.on(e,me,(e=>{e.stopPropagation()})),$.on(e,"show.bs.dropdown",(()=>{$.trigger(this._element,ke)})),$.on(e,"hide.bs.dropdown",(()=>{$.trigger(this._element,ye)}))}_bindMouseEvents(){const e=E.findOne(ce,this._element);$.on(e,_e,(e=>{this._isMouseDown=!0;const t=this._getRgbColorFromCanvas(e);t.a=this._colors.hsla.a,this._updateColors("rgba",t),this._updatePicker(),this._updateAlphaRangeBackground()})),$.on(e,ge,(e=>{if(this._isMouseDown){const t=this._getRgbColorFromCanvas(e);t.a=this._colors.hsla.a,this._updateColors("rgba",t),this._updatePicker(),this._updateAlphaRangeBackground()}})),$.on(window,be,(()=>{this._isMouseDown=!1}))}_bindChangeFormat(){const e=E.findOne("#next-format",this._element),t=E.findOne("#previous-format",this._element);$.on(e,me,(()=>{const e=ee.indexOf(this._currentFormat);this._changeColorFormat(e+1)})),$.on(t,me,(()=>{const e=ee.indexOf(this._currentFormat);this._changeColorFormat(e?e-1:ee.length-1)}))}_bindCopyCodeToClipboard(){const e=E.findOne(le,this._element);$.on(e,me,(()=>{this._copyCodeToClipboard()}))}_setDefaultValue(){if(this._options.colorPickerValue){const e=W(this._options.colorPickerValue);this._currentFormat=e.format,this._currentFormatValue=e,this._updateColors(this._currentFormat,this._currentFormatValue),this._updatePickersColorsAndPositions(),this._updateAlphaRange(),this._updateHueRange()}}_getRgbColorFromCanvas(e){const t=E.findOne(ce,this._element),o=e.offsetX,n=e.offsetY,r=t.getContext("2d").getImageData(o,n,1,1).data;return{r:r[0],g:r[1],b:r[2]}}_updatePicker(){this._updateColorDot(),this._updateInputs(),this._options.colorPickerColorPalette&&this._updateCanvasDot()}_updateColors(e="hsla",t=this._colors.hsla){const o=U(e,t);this._colors=o}_updateAlphaRangeBackground(){const e=E.findOne(se,this._element),{r:t,g:o,b:n,a:r}=this._colors.rgba;e.style.setProperty("--track-background",`linear-gradient(to right, transparent, rgba(${t},${o},${n}, ${r})`)}_copyCodeToClipboard(){const e=((e,t)=>{let o;switch(e){case"rgba":o=`rgba(${t.r},${t.g},${t.b},${t.a})`;break;case"hsva":o=`hsva(${t.h},${t.s},${t.v},${t.a})`;break;case"hsla":o=`hsla(${t.h},${t.s},${t.l},${t.a})`;break;case"hex":o=t;break;case"cmyk":o=`cmyk(${t.c},${t.m},${t.y},${t.k})`}return o})(this._currentFormat,this._currentFormatValue);navigator.clipboard.writeText(e)}_drawCanvas(){const e=E.findOne(ce,this._element),t={h:this._colors.hsla.h,s:1,l:.5,a:1},{r:o,g:n,b:r,a:s}=B(t),i=`rgba(${o},${n},${r}, ${s})`,a=e.width,l=e.height,c=e.getContext("2d"),d=c.createLinearGradient(0,0,0,l),h=c.createLinearGradient(0,0,a,0);h.addColorStop(0,`rgba(255,255,255,${s})`),h.addColorStop(1,"rgba(255,255,255,0)"),d.addColorStop(0,"rgba(0,0,0,0)"),d.addColorStop(1,`rgba(0,0,0,${s})`),c.clearRect(0,0,a,l),c.fillStyle=i,c.fillRect(0,0,a,l),c.fillStyle=h,c.fillRect(0,0,a,l),c.fillStyle=d,c.fillRect(0,0,a,l)}_updateColorDot(){const e=E.findOne(".color-picker-color-dot",this._element),{r:t,g:o,b:n,a:r}=this._colors.rgba;e.style.backgroundColor=`rgba(${t},${o},${n},${r})`,$.trigger(this._element,ve,{color:this._currentFormatValue})}_updateCanvasDot(){const e=E.findOne(".color-picker-canvas-dot",this._element),t=E.findOne(ce,this._element),o=parseFloat(window.getComputedStyle(e).height),n=parseFloat(window.getComputedStyle(e).width),r=this._colors.hsva.s*t.width,s=(1-this._colors.hsva.v)*t.height;e.style.top=s-o/2+"px",e.style.left=r-n/2+"px"}_updateHueRange(){E.findOne(re,this._element).value=this._colors.hsla.h}_updateAlphaRange(){E.findOne(se,this._element).value=this._colors.hsla.a}_updateInputs(){const e=E.find(ae,this._element),[t,o,n,r,s]=ee;switch(this._currentFormat){case t:e[0].value=this._colors.rgba.r,e[0].max=255,e[0].step=1,e[0].id="r",e[1].value=this._colors.rgba.g,e[1].max=255,e[1].step=1,e[1].id="g",e[2].value=this._colors.rgba.b,e[2].max=255,e[2].step=1,e[2].id="b",e[3].value=this._colors.rgba.a,e[3].max=1,e[3].step=.01,e[3].id="a",this._currentFormatValue=this._colors.rgba;break;case o:e[0].value=this._colors.hsla.h,e[0].max=360,e[0].step=1,e[0].id="h",e[1].value=this._colors.hsla.s,e[1].max=1,e[1].step=.01,e[1].id="s",e[2].value=this._colors.hsla.l,e[2].max=1,e[2].step=.01,e[2].id="l",e[3].value=this._colors.hsla.a,e[3].max=1,e[3].step=.01,e[3].id="a",this._currentFormatValue=this._colors.hsla;break;case n:e[0].value=this._colors.hsva.h,e[0].max=360,e[0].step=.01,e[0].id="h",e[1].value=this._colors.hsva.s,e[1].max=1,e[1].step=.01,e[1].id="s",e[2].value=this._colors.hsva.v,e[2].max=1,e[2].step=.01,e[2].id="v",e[3].value=this._colors.hsva.a,e[3].max=1,e[3].step=.01,e[3].id="a",this._currentFormatValue=this._colors.hsva;break;case r:e[0].value=this._colors.hex,e[0].id="hex",this._currentFormatValue=this._colors.hex;break;case s:e[0].value=this._colors.cmyk.c,e[0].max=100,e[0].step=1,e[0].id="c",e[1].value=this._colors.cmyk.m,e[1].max=100,e[1].step=1,e[1].id="m",e[2].value=this._colors.cmyk.y,e[2].max=100,e[2].step=1,e[2].id="y",e[3].value=this._colors.cmyk.k,e[3].max=100,e[3].step=1,e[3].id="k",this._currentFormatValue=this._colors.cmyk}}_initInputs(){E.find(".form-outline",this._element).forEach((e=>{new mdb.Input(e).init()}))}_initDropdown(){const e=E.parents(this._element,".dropdown")[0],t=E.findOne("[data-mdb-dropdown-init]",e);new mdb.Dropdown(t)}_changeColorFormat(e){const t=ee[e]||ee[0],o=E.findOne(he,this._element),n=E.findOne(ie,this._element);if(this._currentFormat=t,n){for(;E.findOne(ae,this._element);)o.firstChild.remove();o.insertAdjacentHTML("afterbegin",A(t.split(""))),this._updateInputs(),this._initInputs(),this._bindOnInputChange()}else if("hex"===t){for(;E.findOne(ae,this._element);)o.firstChild.remove();o.insertAdjacentHTML("afterbegin",M()),this._updateInputs(),this._initInputs(),this._bindOnInputChange()}else{const e=E.find(de,this._element);t.split("").forEach(((t,o)=>{e[o].innerText=t})),this._updateInputs()}}static get NAME(){return X}static jQueryInterface(e,t){return this.each((function(){let n=o.getData(this,Y);const r="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new Ce(this,r)),"string"==typeof e)){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}static getInstance(e){return o.getData(e,Y)}}var we;return E.find("[data-mdb-color-picker-init]").forEach((e=>{let t=Ce.getInstance(e);return t||(t=new Ce(e)),t})),we=()=>{const t=e();if(t){const e=t.fn[X];t.fn[X]=Ce.jQueryInterface,t.fn[X].Constructor=Ce,t.fn[X].noConflict=()=>(t.fn[X]=e,Ce.jQueryInterface)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",we):we(),Ce}));
//# sourceMappingURL=color-picker.min.js.map
