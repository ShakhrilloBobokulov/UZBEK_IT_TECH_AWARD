!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Calendar=e()}(this,(function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e={exports:{}};e.exports=function(){var t=1e3,e=6e4,n=36e5,a="millisecond",i="second",s="minute",o="hour",d="day",r="week",l="month",c="quarter",h="year",m="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},_=function(t,e,n){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(n)+t},y={s:_,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),a=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+_(a,2,"0")+":"+_(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var a=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(a,l),s=n-i<0,o=e.clone().add(a+(s?-1:1),l);return+(-(a+(n-i)/(s?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:h,w:r,d:d,D:m,h:o,m:s,s:i,ms:a,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",E={};E[g]=v;var b="$isDayjsObject",w=function(t){return t instanceof T||!(!t||!t[b])},M=function t(e,n,a){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();E[s]&&(i=s),n&&(E[s]=n,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var d=e.name;E[d]=e,i=d}return!a&&i&&(g=i),i||!a&&g},k=function(t,e){if(w(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new T(n)},$=y;$.l=M,$.i=w,$.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function v(t){this.$L=M(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[b]=!0}var _=v.prototype;return _.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(p);if(a){var i=a[2]-1||0,s=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],i,a[3]||1,a[4]||0,a[5]||0,a[6]||0,s)):new Date(a[1],i,a[3]||1,a[4]||0,a[5]||0,a[6]||0,s)}}return new Date(e)}(t),this.init()},_.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},_.$utils=function(){return $},_.isValid=function(){return!(this.$d.toString()===f)},_.isSame=function(t,e){var n=k(t);return this.startOf(e)<=n&&n<=this.endOf(e)},_.isAfter=function(t,e){return k(t)<this.startOf(e)},_.isBefore=function(t,e){return this.endOf(e)<k(t)},_.$g=function(t,e,n){return $.u(t)?this[e]:this.set(n,t)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(t,e){var n=this,a=!!$.u(e)||e,c=$.p(t),f=function(t,e){var i=$.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return a?i:i.endOf(d)},p=function(t,e){return $.w(n.toDate()[t].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},u=this.$W,v=this.$M,_=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case h:return a?f(1,0):f(31,11);case l:return a?f(1,v):f(0,v+1);case r:var g=this.$locale().weekStart||0,E=(u<g?u+7:u)-g;return f(a?_-E:_+(6-E),v);case d:case m:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case s:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},_.endOf=function(t){return this.startOf(t,!1)},_.$set=function(t,e){var n,r=$.p(t),c="set"+(this.$u?"UTC":""),f=(n={},n[d]=c+"Date",n[m]=c+"Date",n[l]=c+"Month",n[h]=c+"FullYear",n[o]=c+"Hours",n[s]=c+"Minutes",n[i]=c+"Seconds",n[a]=c+"Milliseconds",n)[r],p=r===d?this.$D+(e-this.$W):e;if(r===l||r===h){var u=this.clone().set(m,1);u.$d[f](p),u.init(),this.$d=u.set(m,Math.min(this.$D,u.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},_.set=function(t,e){return this.clone().$set(t,e)},_.get=function(t){return this[$.p(t)]()},_.add=function(a,c){var m,f=this;a=Number(a);var p=$.p(c),u=function(t){var e=k(f);return $.w(e.date(e.date()+Math.round(t*a)),f)};if(p===l)return this.set(l,this.$M+a);if(p===h)return this.set(h,this.$y+a);if(p===d)return u(1);if(p===r)return u(7);var v=(m={},m[s]=e,m[o]=n,m[i]=t,m)[p]||1,_=this.$d.getTime()+a*v;return $.w(_,this)},_.subtract=function(t,e){return this.add(-1*t,e)},_.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var a=t||"YYYY-MM-DDTHH:mm:ssZ",i=$.z(this),s=this.$H,o=this.$m,d=this.$M,r=n.weekdays,l=n.months,c=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,a))||i[n].slice(0,s)},m=function(t){return $.s(s%12||12,t,"0")},p=c||function(t,e,n){var a=t<12?"AM":"PM";return n?a.toLowerCase():a};return a.replace(u,(function(t,a){return a||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return $.s(e.$y,4,"0");case"M":return d+1;case"MM":return $.s(d+1,2,"0");case"MMM":return h(n.monthsShort,d,l,3);case"MMMM":return h(l,d);case"D":return e.$D;case"DD":return $.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(n.weekdaysMin,e.$W,r,2);case"ddd":return h(n.weekdaysShort,e.$W,r,3);case"dddd":return r[e.$W];case"H":return String(s);case"HH":return $.s(s,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return p(s,o,!0);case"A":return p(s,o,!1);case"m":return String(o);case"mm":return $.s(o,2,"0");case"s":return String(e.$s);case"ss":return $.s(e.$s,2,"0");case"SSS":return $.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(a,m,f){var p,u=this,v=$.p(m),_=k(a),y=(_.utcOffset()-this.utcOffset())*e,g=this-_,E=function(){return $.m(u,_)};switch(v){case h:p=E()/12;break;case l:p=E();break;case c:p=E()/3;break;case r:p=(g-y)/6048e5;break;case d:p=(g-y)/864e5;break;case o:p=g/n;break;case s:p=g/e;break;case i:p=g/t;break;default:p=g}return f?p:$.a(p)},_.daysInMonth=function(){return this.endOf(l).$D},_.$locale=function(){return E[this.$L]},_.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),a=M(t,e,!0);return a&&(n.$L=a),n},_.clone=function(){return $.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},v}(),C=T.prototype;return k.prototype=C,[["$ms",a],["$s",i],["$m",s],["$H",o],["$W",d],["$M",l],["$y",h],["$D",m]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,T,k),t.$i=!0),k},k.locale=M,k.isDayjs=w,k.unix=function(t){return k(1e3*t)},k.en=E[g],k.Ls=E,k.p={},k}();const n=t(e.exports);var a={exports:{}};!function(t,e){t.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,a=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,s={},o=function(t){return(t=+t)+(t>68?1900:2e3)},d=function(t){return function(e){this[t]=+e}},r=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],l=function(t){var e=s[t];return e&&(e.indexOf?e:e.s.concat(e.f))},c=function(t,e){var n,a=s.meridiem;if(a){for(var i=1;i<=24;i+=1)if(t.indexOf(a(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},h={A:[i,function(t){this.afternoon=c(t,!1)}],a:[i,function(t){this.afternoon=c(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[n,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[a,d("seconds")],ss:[a,d("seconds")],m:[a,d("minutes")],mm:[a,d("minutes")],H:[a,d("hours")],h:[a,d("hours")],HH:[a,d("hours")],hh:[a,d("hours")],D:[a,d("day")],DD:[n,d("day")],Do:[i,function(t){var e=s.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var a=1;a<=31;a+=1)e(a).replace(/\[|\]/g,"")===t&&(this.day=a)}],M:[a,d("month")],MM:[n,d("month")],MMM:[i,function(t){var e=l("months"),n=(l("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(t){var e=l("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,d("year")],YY:[n,function(t){this.year=o(t)}],YYYY:[/\d{4}/,d("year")],Z:r,ZZ:r};function m(n){var a,i;a=n,i=s&&s.formats;for(var o=(n=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,a){var s=a&&a.toUpperCase();return n||i[a]||t[a]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),d=o.length,r=0;r<d;r+=1){var l=o[r],c=h[l],m=c&&c[0],f=c&&c[1];o[r]=f?{regex:m,parser:f}:l.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,a=0;n<d;n+=1){var i=o[n];if("string"==typeof i)a+=i.length;else{var s=i.regex,r=i.parser,l=t.slice(a),c=s.exec(l)[0];r.call(e,c),t=t.replace(c,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(o=t.parseTwoDigitYear);var a=e.prototype,i=a.parse;a.parse=function(t){var e=t.date,a=t.utc,o=t.args;this.$u=a;var d=o[1];if("string"==typeof d){var r=!0===o[2],l=!0===o[3],c=r||l,h=o[2];l&&(h=o[2]),s=this.$locale(),!r&&h&&(s=n.Ls[h]),this.$d=function(t,e,n){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var a=m(e)(t),i=a.year,s=a.month,o=a.day,d=a.hours,r=a.minutes,l=a.seconds,c=a.milliseconds,h=a.zone,f=new Date,p=o||(i||s?1:f.getDate()),u=i||f.getFullYear(),v=0;i&&!s||(v=s>0?s-1:f.getMonth());var _=d||0,y=r||0,g=l||0,E=c||0;return h?new Date(Date.UTC(u,v,p,_,y,g,E+60*h.offset*1e3)):n?new Date(Date.UTC(u,v,p,_,y,g,E)):new Date(u,v,p,_,y,g,E)}catch(b){return new Date("")}}(e,d,a),this.init(),h&&!0!==h&&(this.$L=this.locale(h).$L),c&&e!=this.format(d)&&(this.$d=new Date("")),s={}}else if(d instanceof Array)for(var f=d.length,p=1;p<=f;p+=1){o[1]=d[p-1];var u=n.apply(this,o);if(u.isValid()){this.$d=u.$d,this.$L=u.$L,this.init();break}p===f&&(this.$d=new Date(""))}else i.call(this,t)}}}()}(a);const i=t(a.exports);var s={exports:{}};!function(t,e){t.exports=function(t,e){e.prototype.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)}}}(s);const o=t(s.exports);var d={exports:{}};!function(t,e){t.exports=function(t,e){e.prototype.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)}}}(d);const r=t(d.exports);var l={exports:{}};!function(t,e){t.exports=function(t,e,n){var a=function(t,e){if(!e||!e.length||1===e.length&&!e[0]||1===e.length&&Array.isArray(e[0])&&!e[0].length)return null;var n;1===e.length&&e[0].length>0&&(e=e[0]),n=(e=e.filter((function(t){return t})))[0];for(var a=1;a<e.length;a+=1)e[a].isValid()&&!e[a][t](n)||(n=e[a]);return n};n.max=function(){var t=[].slice.call(arguments,0);return a("isAfter",t)},n.min=function(){var t=[].slice.call(arguments,0);return a("isBefore",t)}}}(l);const c=t(l.exports),h=t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},m=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-mdb-no-jquery")?t:null};document.documentElement.dir;const f=t=>document.createElement(t),p=(()=>{const t={};let e=1;return{set(n,a,i){void 0===n[a]&&(n[a]={key:a,id:e},e++),t[n[a].id]=i},get(e,n){if(!e||void 0===e[n])return null;const a=e[n];return a.key===n?t[a.id]:null},delete(e,n){if(void 0===e[n])return;const a=e[n];a.key===n&&(delete t[a.id],delete e[n])}}})(),u={setData(t,e,n){p.set(t,e,n)},getData:(t,e)=>p.get(t,e),removeData(t,e){p.delete(t,e)}};let v=Element.prototype.querySelectorAll,_=Element.prototype.querySelector;const y=(()=>{const t=new CustomEvent("Bootstrap",{cancelable:!0}),e=document.createElement("div");return e.addEventListener("Bootstrap",(()=>null)),t.preventDefault(),e.dispatchEvent(t),t.defaultPrevented})(),g=/:scope\b/;(()=>{const t=document.createElement("div");try{t.querySelectorAll(":scope *")}catch(e){return!1}return!0})()||(v=function(t){if(!g.test(t))return this.querySelectorAll(t);const e=Boolean(this.id);e||(this.id=h("scope"));let n=null;try{t=t.replace(g,`#${this.id}`),n=this.querySelectorAll(t)}finally{e||this.removeAttribute("id")}return n},_=function(t){if(!g.test(t))return this.querySelector(t);const e=E.call(this,t);return void 0!==e[0]?e[0]:null});const E=v,b=_,w=m(),M=/[^.]*(?=\..*)\.|.*/,k=/\..*/,$=/::\d+$/,T={};let C=1;const D={mouseenter:"mouseover",mouseleave:"mouseout"},S=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function L(t,e){return e&&`${e}::${C++}`||t.uidEvent||C++}function O(t){const e=L(t);return t.uidEvent=e,T[e]=T[e]||{},T[e]}function A(t,e,n=null){const a=Object.keys(t);for(let i=0,s=a.length;i<s;i++){const s=t[a[i]];if(s.originalHandler===e&&s.delegationSelector===n)return s}return null}function x(t,e,n){const a="string"==typeof e,i=a?n:e;let s=t.replace(k,"");const o=D[s];o&&(s=o);return S.indexOf(s)>-1||(s=t),[a,i,s]}function H(t,e,n,a,i){if("string"!=typeof e||!t)return;n||(n=a,a=null);const[s,o,d]=x(e,n,a),r=O(t),l=r[d]||(r[d]={}),c=A(l,o,s?n:null);if(c)return void(c.oneOff=c.oneOff&&i);const h=L(o,e.replace(M,"")),m=s?function(t,e,n){return function a(i){const s=t.querySelectorAll(e);for(let{target:e}=i;e&&e!==this;e=e.parentNode)for(let o=s.length;o--;"")if(s[o]===e)return a.oneOff&&B.off(t,i.type,n),n.apply(e,[i]);return null}}(t,n,a):function(t,e){return function n(a){return n.oneOff&&B.off(t,a.type,e),e.apply(t,[a])}}(t,n);m.delegationSelector=s?n:null,m.originalHandler=o,m.oneOff=i,m.uidEvent=h,l[h]=m,t.addEventListener(d,m,s)}function I(t,e,n,a,i){const s=A(e[n],a,i);s&&(t.removeEventListener(n,s,Boolean(i)),delete e[n][s.uidEvent])}const B={on(t,e,n,a){H(t,e,n,a,!1)},one(t,e,n,a){H(t,e,n,a,!0)},off(t,e,n,a){if("string"!=typeof e||!t)return;const[i,s,o]=x(e,n,a),d=o!==e,r=O(t),l="."===e.charAt(0);if(void 0!==s){if(!r||!r[o])return;return void I(t,r,o,s,i?n:null)}l&&Object.keys(r).forEach((n=>{!function(t,e,n,a){const i=e[n]||{};Object.keys(i).forEach((s=>{if(s.indexOf(a)>-1){const a=i[s];I(t,e,n,a.originalHandler,a.delegationSelector)}}))}(t,r,n,e.slice(1))}));const c=r[o]||{};Object.keys(c).forEach((n=>{const a=n.replace($,"");if(!d||e.indexOf(a)>-1){const e=c[n];I(t,r,o,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,n){if("string"!=typeof e||!t)return null;const a=e.replace(k,""),i=e!==a,s=S.indexOf(a)>-1;let o,d=!0,r=!0,l=!1,c=null;return i&&w&&(o=w.Event(e,n),w(t).trigger(o),d=!o.isPropagationStopped(),r=!o.isImmediatePropagationStopped(),l=o.isDefaultPrevented()),s?(c=document.createEvent("HTMLEvents"),c.initEvent(a,d,!0)):c=new CustomEvent(e,{bubbles:d,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((t=>{Object.defineProperty(c,t,{get:()=>n[t]})})),l&&(c.preventDefault(),y||Object.defineProperty(c,"defaultPrevented",{get:()=>!0})),r&&t.dispatchEvent(c),c.defaultPrevented&&void 0!==o&&o.preventDefault(),c}};function Y(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function N(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const F={setDataAttribute(t,e,n){t.setAttribute(`data-mdb-${N(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-mdb-${N(e)}`)},getDataAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter((t=>t.startsWith("mdb"))).forEach((t=>{let n=t.replace(/^mdb/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),e[n]=Y(e[t])})),e},getDataAttribute:(t,e)=>Y(t.getAttribute(`data-mdb-${N(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:t=>({top:t.offsetTop,left:t.offsetLeft}),style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))},addClass(t,e){t.classList.contains(e)||t.classList.add(e)},addStyle(t,e){Object.keys(e).forEach((n=>{t.style[n]=e[n]}))},removeClass(t,e){t.classList.contains(e)&&t.classList.remove(e)},hasClass:(t,e)=>t.classList.contains(e)},j={closest:(t,e)=>t.closest(e),matches:(t,e)=>t.matches(e),find:(t,e=document.documentElement)=>[].concat(...E.call(e,t)),findOne:(t,e=document.documentElement)=>b.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let a=t.parentNode;for(;a&&a.nodeType===Node.ELEMENT_NODE&&3!==a.nodeType;)this.matches(a,e)&&n.push(a),a=a.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]}};function P(t){let e;return e=t.start.dateTime.isSame(t.end.dateTime,"day")&&t.start.dateTime.isSame(t.end.dateTime,"time")&&"12:00 AM"===t.start.dateTime.format("hh:mm A")?"one-day-event":t.start.dateTime.isSame(t.end.dateTime,"day")&&!t.start.dateTime.isSame(t.end.dateTime,"time")?"short-event":t.start.dateTime.isSame(t.end.dateTime,"day")||"12:00 AM"!==t.start.dateTime.format("hh:mm A")?"long-event-with-time":"long-event",e}function R(t,e){let n;return"long-event"===P(t)?n=`${t.start.dateTime.format(e.date)} -\n    ${t.end.dateTime.format(e.date)}`:"long-event-with-time"===P(t)?n=`${t.start.dateTime.format(e.date)} <small class="fw-light">${t.start.dateTime.format(e.time)}</small> -\n    ${t.end.dateTime.format(e.date)} <small class="fw-light">${t.end.dateTime.format(e.time)}</small>`:"one-day-event"===P(t)?n=`${t.start.dateTime.format(e.date)}`:"short-event"===P(t)&&(n=`${t.start.dateTime.format(e.date)} <small class="fw-light">${t.start.dateTime.format(e.time)} - ${t.end.dateTime.format(e.time)}</small>`),n}class V{constructor(t,e,n){this._element=t,this._event=e,this._formats=n,this._content="",this.init()}init(){this._setContent(),this._initTooltip()}_setContent(){this._setSummary(),this._setDescription(),this._setTime()}_setSummary(){const t=`<h6><strong>${this._event.summary}</strong></h6>`;this._content+=t}_setDescription(){if(void 0!==this._event.description){const t=`<p><small><em>${this._event.description}</em></small></p>`;this._content+=t}}_setTime(){const t=`<p class="mb-0"><small>\n    <i class="fas fa-calendar-alt pr-1"></i>\n    ${R(this._event,this._formats)}</small></p>`;this._content+=t}_initTooltip(){F.setDataAttribute(this._element,"toggle","tooltip"),F.setDataAttribute(this._element,"offset",[0,10]),F.setDataAttribute(this._element,"html",!0),this._element.setAttribute("title",this._content)}}n.extend(i),n.extend(o),n.extend(r),n.extend(c);const W="calendar",U="mdb.calendar",J="day-field",Z="events-wrapper",q="active",z=`td.${q}`,K=".calendar-long-events-checkbox",Q="editEvent.mdb.calendar",X="valueChanged.mdb.timepicker",G="valueChanged.mdb.datepicker",tt="optionSelected.mdb.select",et={addEventCaption:"string",weekdays:"(array|string)",months:"(array|string)",monthsShort:"(array|string)",mondayFirst:"boolean",defaultView:"string",twelveHour:"boolean",defaultDate:"(object|string)",readonly:"boolean",todayCaption:"string",monthCaption:"string",weekCaption:"string",listCaption:"string",allDayCaption:"string",noEventsCaption:"string",summaryCaption:"string",descriptionCaption:"string",startCaption:"string",endCaption:"string",addCaption:"string",deleteCaption:"string",saveCaption:"string",closeCaption:"string",addEventModalCaption:"string",editEventModalCaption:"string",events:"array",tooltips:"boolean",navigation:"boolean",viewSelect:"boolean",addEventButton:"boolean",blur:"boolean",newEventAttributes:"function",datepickerOptions:"object",timepickerOptions:"object"},nt={addEventCaption:"Add event",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mondayFirst:!1,defaultView:"month",twelveHour:!1,defaultDate:n().format("DD/MM/YYYY"),readonly:!1,todayCaption:"Today",monthCaption:"Month",weekCaption:"Week",allDayCaption:"All day event",listCaption:"List",noEventsCaption:"No events",summaryCaption:"Summary",descriptionCaption:"Description",startCaption:"Start",endCaption:"End",addCaption:"Add",deleteCaption:"Remove",saveCaption:"Save",closeCaption:"Close",addEventModalCaption:"Add an event",editEventModalCaption:"Edit an event",events:[],tooltips:!0,navigation:!0,viewSelect:!0,addEventButton:!0,blur:!1,newEventAttributes:t=>t,datepickerOptions:{},timepickerOptions:{}};class at{constructor(t,e={}){this._element=t,this._options=e,this.formats={date:"DD/MM/YYYY",dateTime:this.options.twelveHour?"DD/MM/YYYY hh:mm A":"DD/MM/YYYY HH:mm",time:this.options.twelveHour?"hh:mm A":"HH:mm"},this.view=this.options.defaultView,this.weekdays=[...this.options.weekdays],this.activeMoment=n(this.options.defaultDate,this.formats.date);const a=this.options.events.length>0?JSON.parse(JSON.stringify(this.options.events)):[];this._events=this._formatEvents(a),this._newEvent={},this._activeEvent={},this._addModalId=h("addModal"),this._editModalId=h("editModal"),this._table=null,this._tHead=null,this._tBody=null,this._addEventModal=null,this._editEventModal=null,this._tools=null,this._arrowLeft=null,this._arrowRight=null,this._pickedStartDate=null,this._addEventModalInstance=null,this._editEventModalInstance=null,this._colorDropdownInstances=[],this._inputInstances=[],this._tooltips=[],this._element&&u.setData(t,U,this),this.init()}get events(){return this._parseEvents(this._events)}get options(){const t={...nt,...F.getDataAttributes(this._element),...this._options};return((t,e,n)=>{Object.keys(n).forEach((a=>{const i=n[a],s=e[a],o=s&&((d=s)[0]||d).nodeType?"element":(t=>null==t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase())(s);var d;if(!new RegExp(i).test(o))throw new Error(`${t.toUpperCase()}: Option "${a}" provided type "${o}" but expected type "${i}".`)}))})(W,t,et),"string"==typeof t.weekdays&&(t.weekdays=t.weekdays.split(", ")),"string"==typeof t.months&&(t.months=t.months.split(", ")),"string"==typeof t.monthsShort&&(t.monthsShort=t.monthsShort.split(", ")),t}get activeMomentCopy(){return n(this.activeMoment)}get activeEventIndex(){return this._activeEvent.key-1}init(){this._appendTemplate(),this._sortEvents(),this._addEventsKeys(),this._setEvents(),this._orderEvents(),this._setLongEventCaptions(),this._addListeners(),this._initTooltips(),this._initSelect(),this.options.readonly||(this._createAddEventModal(),this._createEditEventModal())}prev(){switch(this.view){case"month":this.activeMoment=this.activeMoment.startOf("month").subtract(1,"month");break;case"week":case"list":this.activeMoment=this.activeMoment.subtract(1,"week"),this._setTHeadCaptions();break;default:return}this._refreshTable(),this._triggerEvent("prev")}next(){switch(this.view){case"month":this.activeMoment=this.activeMoment.startOf("month").add(1,"month"),this._setTBody();break;case"week":case"list":this.activeMoment=this.activeMoment.add(1,"week"),this._setTHeadCaptions();break;default:return}this._refreshTable(),this._triggerEvent("next")}today(){switch(this.activeMoment=n(),this._setHeading(),this.view){case"month":this._setTBody();break;case"week":case"list":this._setTHeadCaptions();break;default:return}this._refreshTable(),this._triggerEvent("today")}changeView(t){this.view=t,this._setTHeadCaptions(),this._setHeading(),this._refreshTable(),this._updateSelectValue(),this._triggerEvent("viewChange")}refresh(){this._clearEvents(),this._sortEvents(),this._addEventsKeys(),this._setTBody(),this._setEvents(),this._orderEvents(),this._setLongEventCaptions(),this._initTooltips(),this._triggerEvent("update")}addEvents(t){const e=JSON.parse(JSON.stringify(t));this._events=this._formatEvents([...this._events,...e]),this.refresh()}removeEvents(){this._events=[],this.refresh()}dispose(){this.removeEvents(),this._removeListeners(),this._disposeModals(),u.removeData(this._element,U),this._element.innerHTML=null}_formatEvents(t){return t.map((t=>((t={...t}).created=t.created&&n(t.created,this.formats.dateTime),t.start.date=t.start.date&&n(t.start.date,this.formats.date),t.start.dateTime=t.start.dateTime?n(t.start.dateTime,this.formats.dateTime):n(t.start.date,this.formats.date),t.end.date=t.end.date&&n(t.end.date,this.formats.date),t.end.dateTime=t.end.dateTime?n(t.end.dateTime,this.formats.dateTime):n(t.end.date,this.formats.date),t.color=t.color||{},t)))}_updateSelectValue(){mdb.Select.getInstance(this._viewSelect).setValue(this.view)}_parseEvent(t){return{...t,start:{date:n(t.start.date).format(this.formats.date),dateTime:n(t.start.dateTime).format(this.formats.dateTime)},end:{date:n(t.end.date).format(this.formats.date),dateTime:n(t.end.dateTime).format(this.formats.dateTime)},created:t.created?n(t.created).format(this.formats.dateTime):void 0}}_parseEvents(t){return t.map((t=>this._parseEvent(t)))}_appendTemplate(){this._appendTools(),this._appendTable(),this.options.mondayFirst&&this.weekdays.push(this.weekdays.shift()),this._setTHeadCaptions(),this._setTBody()}_appendTable(){this._table=f("table"),this._element.append(this._table),this._tHead=f("thead"),this._table.append(this._tHead),this._tBody=f("tbody"),this._table.append(this._tBody);const t=f("tr");this._tHead.append(t)}_appendTools(){this._tools=f("div");const t=f("div"),e=f("div"),n=f("div");this._todayBtn=f("button"),this._arrowLeft=f("button"),this._arrowRight=f("button"),this._heading=f("span"),this._viewSelect=f("select"),this._newEventBtn=f("button"),F.addClass(this._tools,"calendar-tools"),F.addClass(this._heading,"calendar-heading"),F.addClass(t,"d-flex"),F.addClass(t,"flex-column"),F.addClass(t,"flex-lg-row"),F.addClass(t,"justify-content-center"),F.addClass(t,"align-items-center"),F.addClass(n,"my-2"),F.addClass(n,"me-2"),F.addClass(n,"my-lg-0"),F.addClass(n,"d-flex"),F.addClass(n,"justify-content-center"),F.addClass(e,"d-flex"),F.addClass(e,"justify-content-center"),F.addClass(this._viewSelect,"select"),F.addClass(this._newEventBtn,"btn"),F.addClass(this._newEventBtn,"btn-primary"),[this._arrowLeft,this._arrowRight,this._todayBtn].forEach((t=>{F.setDataAttribute(t,"ripple-color","dark")})),this._todayBtn.innerHTML=this.options.todayCaption,this._arrowLeft.innerHTML='<i class="fas fa-chevron-left"></i>',this._arrowRight.innerHTML='<i class="fas fa-chevron-right"></i>',this._viewSelect.innerHTML=`<option value="month" ${"month"===this.options.defaultView&&"selected"}>${this.options.monthCaption}</option><option value="week" ${"week"===this.options.defaultView&&"selected"}>${this.options.weekCaption}</option><option value="list" ${"list"===this.options.defaultView&&"selected"}>${this.options.listCaption}</option>`,this._newEventBtn.innerHTML=this.options.addEventCaption,["btn","btn-link"].forEach((t=>{F.addClass(this._arrowLeft,t),F.addClass(this._arrowRight,t),F.addClass(this._todayBtn,t)})),this._setHeading(),n.append(this._todayBtn),n.append(this._arrowLeft),n.append(this._arrowRight),this.options.navigation&&t.append(n),t.append(this._heading),this.options.viewSelect&&e.append(this._viewSelect),this.options.addEventButton&&!this.options.readonly&&e.append(this._newEventBtn),this._tools.append(t),this._tools.append(e),this._element.append(this._tools)}_setTHeadCaptions(){const t=j.findOne("tr",this._tHead);if(t.innerHTML="","month"===this.view)this.weekdays.forEach((e=>{const n=f("th");n.innerHTML=e,t.append(n)}));else if("week"===this.view){const e=f("th");t.append(e);for(let a=0;a<7;a++){const e=f("th");if(this.options.mondayFirst){const t=this.activeMomentCopy.startOf("week").add(a+1,"day");e.innerHTML=`<div class="weekday-field">${this.weekdays[a]}</div><div class="day-field">${t.format("DD")}</div>`,t.isSame(n(),"day")&&F.addClass(e,"today")}else{const t=this.activeMomentCopy.startOf("week").add(a,"day");e.innerHTML=`<div class="weekday-field">${this.weekdays[a]}</div><div class="day-field">${t.format("DD")}</div>`,t.isSame(n(),"day")&&F.addClass(e,"today")}t.append(e)}}}_setTBody(){switch(this._clearTBody(),F.addClass(this._table,this.view),this.view){case"month":this._appendWeekRows(),this._appendPrevMonthDays(),this._appendCurrentMonthDays(),this._appendNextMonthDays();break;case"week":this._appendLongEventSection(),this._appendHoursSection();break;default:return}}_appendWeekRows(){for(let t=0;t<6;t++){const t=f("tr");this._tBody.append(t)}}_appendPrevMonthDays(){const t=this.activeMomentCopy.startOf("month").day(),e=this._getArrayFromNumber(this.activeMomentCopy.subtract(1,"months").daysInMonth());let n;n=this.options.mondayFirst?0===t?e.reverse().splice(0,6).reverse():e.reverse().splice(0,t-1).reverse():e.reverse().splice(0,t).reverse(),n.forEach((t=>{this._appendPrevMonthDayFields(t)}))}_appendPrevMonthDayFields(t){const e=f("div"),n=f("td"),a=f("div"),i=f("div");F.addClass(e,Z),F.addClass(n,"disabled"),F.addClass(a,"day-field-wrapper"),F.addClass(i,J),a.append(i),n.append(a),n.append(e);const s=`${this._pad(t+1)}/${this._pad(this.activeMomentCopy.startOf("month").subtract(1,"month").month()+1)}/${this.activeMomentCopy.startOf("month").subtract(1,"month").year()}`;n.dataset.date=s,i.innerHTML=t+1,j.findOne("tr",this._tBody).append(n),this.options.readonly||this._addDayFieldListeners(n,s)}_addDayFieldListeners(t,e){B.on(t,"mousedown",(()=>this._setStartDate(e))),B.on(t,"mouseenter",(()=>this._highlightLongEventField(e))),B.on(t,"mouseup",(t=>this._toggleAddEventModal(t,e))),B.on(t,"dragenter",(t=>this._handleDragEnter(t))),B.on(t,"dragover",(t=>this._handleDragOver(t))),B.on(t,"dragleave",(t=>this._handleDragLeave(t))),B.on(t,"drop",(t=>this._handleDrop(t,e)))}_setStartDate(t){this._pickedStartDate=t}_highlightLongEventField(t){this._pickedStartDate&&j.find("td",this._tBody).forEach((e=>{let a,i,s;e.dataset.dateTime?(a=n(n(this._pickedStartDate).format(this.formats.dateTime),this.formats.dateTime),i=n(n(t).format(this.formats.dateTime),this.formats.dateTime),s=n(n(e.dataset.dateTime).format(this.formats.dateTime),this.formats.dateTime)):(a=n(this._pickedStartDate,this.formats.date),i=n(t,this.formats.date),s=n(e.dataset.date,this.formats.date)),s.isBefore(i,"minute")&&s.isAfter(a,"minute")||s.isAfter(i,"minute")&&s.isBefore(a,"minute")?F.addClass(e,q):F.removeClass(e,q)}))}_clearHighlight(){j.find(z,this._tBody).forEach((t=>{F.removeClass(t,q)}))}_toggleNewEventModal(){const t=n().format(this.formats.date);this._pickedStartDate=t;this._toggleAddEventModal({which:1},t)}_toggleAddEventModal(t,e){if(3===t.which)return;this._newEvent={};const a={},i={};a.date=n.min([n(this._pickedStartDate,this.formats.date),n(e,this.formats.date)]).startOf("day"),i.date=n.max([n(this._pickedStartDate,this.formats.date),n(e,this.formats.date)]).startOf("day"),n(this._pickedStartDate,this.formats.dateTime).isValid()&&n(e,this.formats.dateTime).isValid()?(a.dateTime=n.min([n(this._pickedStartDate,this.formats.dateTime),n(e,this.formats.dateTime)]),i.dateTime=n.max([n(this._pickedStartDate,this.formats.dateTime).add(1,"hour"),n(e,this.formats.dateTime).add(1,"hour")])):(a.dateTime=n.min([n(this._pickedStartDate,this.formats.date),n(e,this.formats.date)]),i.dateTime=n.max([n(this._pickedStartDate,this.formats.date),n(e,this.formats.date)])),this._setNewEvent(a,i),this._updateAddEventModalContent(),this._addEventModalInstance||(this._addEventModalInstance=new mdb.Modal(this._addEventModal)),this._addEventModalInstance.show(),this._initInputs(),this._initPickers(),this._initColorDropdowns(this._newEvent),this._addInputsListeners(),this._clearSelection(),setTimeout((()=>{const t=j.findOne(".calendar-summary-input",this._addEventModal);this._updateInputs(),t.focus()}),500)}_setNewEvent(t,e){this._newEvent={summary:"",description:"",start:{date:t.date,dateTime:t.dateTime},end:{date:e.date,dateTime:e.dateTime},color:{background:"#cfe0fc",foreground:"#0a47a9"}}}_clearSelection(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this._pickedStartDate=null,this._clearHighlight()}_initInputs(){this._inputInstances=j.find(".form-outline",this._addEventModal).map((t=>new mdb.Input(t))),this._inputInstances.push(...j.find(".form-outline",this._editEventModal).map((t=>new mdb.Input(t))))}_initColorDropdowns(t){const e=[].slice.call(document.querySelectorAll(".color-dropdown-toggle"));this._colorDropdownInstances=e.map((e=>(t&&this._setDefaultDrodpownColor(e,t.color.background),new mdb.Dropdown(e))))}_setDefaultDrodpownColor(t,e){t.innerHTML=`<i class="fas fa-circle" style="color: ${e}"></i>`}_updateInputs(){}_initPickers(){j.find(".datepicker",this._addEventModal).forEach((t=>{new mdb.Datepicker(t,this._options.datepickerOptions)})),j.find(".datepicker",this._editEventModal).forEach((t=>{new mdb.Datepicker(t,this._options.datepickerOptions)})),j.find(".timepicker",this._addEventModal).forEach((t=>{const e=j.findOne("input",t).value;new mdb.Timepicker(t,{defaultTime:e,format24:!this.options.twelveHour,...this._options.timepickerOptions})})),j.find(".timepicker",this._editEventModal).forEach((t=>{const e=j.findOne("input",t).value;new mdb.Timepicker(t,{defaultTime:e,format24:!this.options.twelveHour,...this._options.timepickerOptions})}))}_addInputsListeners(){j.find("input",this._addEventModal).forEach((t=>{B.on(t,"input",(t=>this._newEventUpdateData(t)))})),j.find("input",this._editEventModal).forEach((t=>{B.on(t,"input",(t=>this._editActiveEventData(t)))})),j.find("textarea",this._addEventModal).forEach((t=>{B.on(t,"input",(t=>this._newEventUpdateData(t)))})),j.find("textarea",this._editEventModal).forEach((t=>{B.on(t,"input",(t=>this._editActiveEventData(t)))})),j.find(".datepicker",this._addEventModal).forEach((t=>{const e={},n=j.findOne(".datepicker-toggle-button",t);e.target=j.findOne("input",t),B.on(t,G,(()=>{this._newEventUpdateData(e)})),B.on(n,"click",(t=>t.preventDefault()))})),j.find(".timepicker",this._addEventModal).forEach((t=>{const e={};e.target=j.findOne("input",t),B.on(t,X,(()=>{this._newEventUpdateData(e)}))})),j.find(".datepicker",this._editEventModal).forEach((t=>{const e={},n=j.findOne(".datepicker-toggle-button",t);e.target=j.findOne("input",t),B.on(t,G,(()=>{this._editActiveEventData(e)})),B.on(n,"click",(t=>t.preventDefault()))})),j.find(".timepicker",this._editEventModal).forEach((t=>{const e={};e.target=j.findOne("input",t),B.on(t,X,(()=>{this._editActiveEventData(e)}))})),j.find(".color-dropdown .dropdown-item",this._editEventModal).forEach((t=>{B.on(t,"click",(t=>this._editExistingEventColor(t)))})),j.find(".color-dropdown .dropdown-item",this._addEventModal).forEach((t=>{B.on(t,"click",(t=>this._editNewEventColor(t)))}))}_editExistingEventColor(t){t.preventDefault(),this._editActiveEventData(t),this._setDropdownActiveColor(t)}_editNewEventColor(t){t.preventDefault(),this._newEventUpdateData(t),this._setDropdownActiveColor(t)}_setDropdownActiveColor(t){j.findOne(".dropdown-toggle",j.closest(t.target,".dropdown")).innerHTML=`<i class="fas fa-circle" style="color: ${t.target.dataset.background}"></i>`}_newEventUpdateData(t){switch(t.target.name){case"summary":this._newEvent.summary=t.target.value;break;case"description":this._newEvent.description=t.target.value;break;case"start.date":this._newEvent.start.date=n(t.target.value,this.formats.date),this._newEvent.start.dateTime=n(`${t.target.value} ${this._newEvent.start.dateTime.format(this.formats.date)}`,this.formats.date);break;case"end.date":this._newEvent.end.date=n(t.target.value,this.formats.date),this._newEvent.end.dateTime=n(`${t.target.value} ${this._newEvent.end.dateTime.format(this.formats.date)}`,this.formats.date);break;case"start.time":this._newEvent.start.dateTime=n(`${this._newEvent.start.date.format(this.formats.date)} ${t.target.value}`,this.formats.dateTime);break;case"end.time":this._newEvent.end.dateTime=n(`${this._newEvent.end.date.format(this.formats.date)} ${t.target.value}`,this.formats.dateTime);break;case"color":this._newEvent.color||(this._newEvent.color={}),this._newEvent.color.background=t.target.dataset.background,this._newEvent.color.foreground=t.target.dataset.foreground;break;default:return}this._clearValidation()}_editActiveEventData(t){switch(t.target.name){case"summary":this._activeEvent.summary=t.target.value;break;case"description":this._activeEvent.description=t.target.value;break;case"start.date":this._activeEvent.start.date=n(t.target.value,this.formats.date),this._activeEvent.start.dateTime=n(`${t.target.value} ${this._activeEvent.start.dateTime.format(this.formats.date)}`,this.formats.date);break;case"end.date":this._activeEvent.end.date=n(t.target.value,this.formats.date),this._activeEvent.end.dateTime=n(`${t.target.value} ${this._activeEvent.end.dateTime.format(this.formats.date)}`,this.formats.date);break;case"start.time":this._activeEvent.start.dateTime=n(`${this._activeEvent.start.date.format(this.formats.date)} ${t.target.value}`,this.formats.dateTime);break;case"end.time":this._activeEvent.end.dateTime=n(`${this._activeEvent.end.date.format(this.formats.date)} ${t.target.value}`,this.formats.dateTime);break;case"color":this._activeEvent.color||(this._activeEvent.color={}),this._activeEvent.color.background=t.target.dataset.background,this._activeEvent.color.foreground=t.target.dataset.foreground;break;default:return}this._clearValidation()}_toggleInfoEventModal(t){t.stopPropagation()}_toggleEditEventModal(t,e){this._clearSelection(),t.stopPropagation(),3===t.which||e.readonly||(this._setActiveEvent(e),this._updateEditEventModalContent(),this._editEventModalInstance||(this._editEventModalInstance=new mdb.Modal(this._editEventModal)),this._editEventModalInstance.show(),this._initInputs(),this._initPickers(),this._initColorDropdowns(e),this._addInputsListeners(),setTimeout((()=>{this._updateInputs()}),500))}_preventModalToggling(t){this._clearSelection(),t.stopPropagation()}_setActiveEvent(t){this._activeEvent={...t,start:{...t.start},end:{...t.end},color:{...t.color}}}_appendCurrentMonthDays(){const t=this.activeMomentCopy.startOf("month").day(),e=this._getArrayFromNumber(this.activeMomentCopy.daysInMonth()),n=[];if(this.options.mondayFirst){0===t?(n.push(e.slice(0,1)),n.push(e.slice(1,8-t))):n.push(e.slice(0,8-t));for(let a=7;a<=35;a+=7)n.push(e.slice(8-t+a-7,8-t+a))}else{n.push(e.slice(0,7-t));for(let a=7;a<=35;a+=7)n.push(e.slice(7-t+a-7,7-t+a))}this._createCurrentMonthDayFields(n)}_createCurrentMonthDayFields(t){for(let e=0;e<6;e++)for(let a=0;a<t[e].length;a++){const i=f("td"),s=f("div"),o=f("div"),d=f("div");F.addClass(s,Z),F.addClass(o,"day-field-wrapper"),F.addClass(d,J);const r=t[e][a]+1;d.innerHTML=r;const l=`${this._pad(r)}/${this._pad(this.activeMoment.month()+1)}/${this.activeMoment.year()}`;i.dataset.date=l,n(l,this.formats.date).isSame(n(),"day")&&F.addClass(i,"today"),o.append(d),i.append(o),i.append(s),j.find("tr",this._tBody)[e].append(i),this.options.readonly||this._addDayFieldListeners(i,l)}}_sortEvents(){this._events.sort(((t,e)=>n(t.start.dateTime).diff(e.start.dateTime)))}_addEventsKeys(){this._events.forEach(((t,e)=>t.key=e+1))}_setEvents(){this._events.forEach(((t,e)=>{this._appendEvent(t,e)})),"list"===this.view&&this._appendEmptyList()}_appendEvent(t){switch(this.view){case"month":this._appendMonthEvent(t);break;case"week":this._appendWeekEvent(t);break;case"list":this._appendListEvent(t);break;default:return}}_appendMonthEvent(t){j.find("td",this._tBody).forEach((e=>{const a=n(e.dataset.date,this.formats.date),i=f("div");n(t.start.date).isSame(a)?this._appendEventFirstDay(i,t,e):n(t.start.dateTime).isBefore(a)&&n(t.end.dateTime).isSameOrAfter(a)&&this._appendEventContinuation(i,t,e),n(t.end.date).isAfter(a)||F.addClass(i,"event-end"),this.options.readonly||t.readonly?F.addClass(i,"event-readonly"):(i.setAttribute("draggable",!0),this._appendMonthListeners(i,t)),t.readonly&&this._appendReadonlyEventListener(i),this.options.blur&&n().isAfter(a,"day")&&F.addClass(i,"event-blur"),this._initTooltip(i,t)}))}_initTooltip(t,e){this.options.tooltips&&new V(t,e,this.formats)}_appendEventFirstDay(t,e,a){if(e.order=j.find(".event",a).length,F.style(t,{order:e.key}),F.addClass(t,"event"),F.addClass(t,`event-${e.key}`),F.setDataAttribute(t,"event-key",e.key),F.setDataAttribute(t,"event-order",e.order),e.start.dateTime.isSame(e.end.dateTime,"day")&&!e.start.dateTime.isSame(e.end.dateTime,"time")){const n=f("i");["fas","fa-circle","pe-1","event-circle"].forEach((t=>{F.addClass(n,t)})),F.addClass(t,"event-short"),F.style(n,{color:e.color&&e.color.background}),t.append(n)}else F.style(t,{background:e.color&&e.color.background,color:e.color&&e.color.foreground});const i=n(a.dataset.date,this.formats.date);n(e.end.date).isAfter(i)||F.addClass(t,"event-end"),t.append(e.summary),j.findOne(`.${Z}`,a).append(t)}_appendEventContinuation(t,e,n){t.innerHTML="&nbsp;",F.style(t,{order:e.key,background:e.color&&e.color.background,color:e.color&&e.color.foreground}),F.setDataAttribute(t,"event-key",e.key),F.setDataAttribute(t,"event-order",e.order),["event",`event-${e.key}`,"event-long"].forEach((e=>{F.addClass(t,e)})),j.findOne(`.${Z}`,n).append(t)}_appendMonthListeners(t,e){B.on(t,"dragstart",(t=>this._handleDragStart(t,e))),B.on(t,"dragend",(t=>this._handleDragEnd(t,e))),B.on(t,"mouseup",(t=>this._toggleEditEventModal(t,e))),B.on(t,"mouseenter",(()=>this._markEvent(e))),B.on(t,"mouseleave",(()=>this._unmarkEvent(e)))}_appendReadonlyEventListener(t){B.on(t,"mouseup",(t=>this._preventModalToggling(t)))}_markEvent(t){j.find(`.event-${t.key}`,this._tBody).forEach((t=>{F.addClass(t,q)}))}_unmarkEvent(t){j.find(`.event-${t.key}`,this._tBody).forEach((t=>{F.removeClass(t,q)}))}_handleDragStart(t,e){this._hideTooltip(t),this._clearSelection();j.find(`.event-${e.key}`,this._tBody).forEach((t=>{F.addClass(t,"dragging")})),t.dataTransfer.setData("text/plain",e.key)}_handleDragEnd(t,e){j.find(`.event-${e.key}`,this._tBody).forEach((t=>{F.removeClass(t,"dragging")}))}_handleDragOver(t){return t.preventDefault&&t.preventDefault(),!1}_handleDragEnter(t){F.addClass(t.target,"dragenter")}_handleDragLeave(t){F.removeClass(t.target,"dragenter")}_handleDrop(t,e){const a=parseInt(t.dataTransfer.getData("text/plain"),10),i=this._events[a-1],s=n(i.start.dateTime,this.formats.dateTime),o=n(i.start.dateTime).format(this.formats.time),d=n(i.end.dateTime,this.formats.dateTime),r=d.diff(s,"days"),l=d.diff(s,"minutes");i.start={date:n(e,this.formats.date),dateTime:n(`${e} ${o}`,this.formats.dateTime)},i.end={date:n(e,this.formats.date).add(r,"days"),dateTime:n(`${e} ${o}`,this.formats.dateTime).add(l,"minutes")},B.trigger(this._element,Q,{event:this._parseEvent(i)}),this.refresh()}_orderEvents(){j.find(`.${Z}`,this._tBody).forEach((t=>{const e=j.find(".event",t);for(let n=0;n<=e.length;n++){if(!e[n])return;let a=this._getAllPrevEl(e[n]).length<parseInt(e[n].dataset.mdbEventOrder,10);for(;a;){const i=f("div");i.innerHTML="&nbsp;",F.style(i,{order:e[n].dataset.mdbEventKey}),F.addClass(i,"fake-event"),t.insertBefore(i,e[n]),j.find("div",t).forEach(((t,e)=>{t.dataset.mdbEventOrder<e&&j.find(`.event-${t.dataset.mdbEventKey}`,this._tBody).forEach((t=>t.dataset.mdbEventOrder=e))})),a=this._getAllPrevEl(e[n]).length<parseInt(e[n].dataset.mdbEventOrder,10)}}}))}_appendNextMonthDays(){const t=j.find("tr",this._tBody),e=7-j.find("td",t[4]).length,n=7-j.find("td",t[5]).length;e>0&&this._appendEventsInRow(t[4],e),n>0&&this._appendEventsInRow(t[5],n,e)}_appendEventsInRow(t,e,n=0){for(let a=0;a<e;a++){const e=f("div"),i=f("td"),s=f("div"),o=f("div");F.addClass(e,Z),F.addClass(i,"disabled"),F.addClass(s,"day-field-wrapper"),F.addClass(o,"day-field"),o.innerHTML=a+1+n;const d=`${this._pad(a+1+n)}/${this._pad(this.activeMomentCopy.startOf("month").add(1,"month").month()+1)}/${this.activeMomentCopy.startOf("month").add(1,"month").year()}`;i.dataset.date=d,s.append(o),i.append(s),i.append(e),t.append(i),this.options.readonly||this._addDayFieldListeners(i,d)}}_pad(t,e=2){for(t=t.toString();t.length<e;)t=`0${t}`;return t}_appendWeekEvent(t){this._appendLongWeekEvent(t),this._appendDateTimeWeekEvent(t)}_appendLongWeekEvent(t){j.find("tr.long-event-row td",this._tBody).forEach(((e,a)=>{const i=this.options.mondayFirst?this.activeMomentCopy.startOf("week").add(a,"day").add(1,"day"):this.activeMomentCopy.startOf("week").add(a,"day"),s=f("div");if(n(t.start.date).isSame(i)){if(F.style(s,{order:t.key}),t.order=j.find(".event",e).length,F.addClass(s,"event"),F.addClass(s,`event-${t.key}`),F.setDataAttribute(s,"event-key",t.key),F.setDataAttribute(s,"event-order",t.order),t.start.dateTime.isSame(t.end.dateTime,"day")&&!t.start.dateTime.isSame(t.end.dateTime,"time")){const e=f("i");["fas","fa-circle","pe-1","event-circle"].forEach((t=>{F.addClass(e,t)})),F.addClass(s,"event-short"),F.style(e,{color:t.color&&t.color.background}),s.append(e)}else F.style(s,{background:t.color&&t.color.background,color:t.color&&t.color.foreground});s.append(t.summary),j.findOne(`.${Z}`,e).append(s),this.options.readonly||t.readonly?F.addClass(s,"event-readonly"):(s.setAttribute("draggable",!0),this._appendMonthListeners(s,t)),t.readonly&&this._appendReadonlyEventListener(s),this.options.blur&&n().isAfter(i,"day")&&F.addClass(s,"event-blur")}n(t.start.dateTime).isBefore(i)&&n(t.end.dateTime).isSameOrAfter(i)&&(s.innerHTML="&nbsp;",F.style(s,{order:t.key,background:t.color&&t.color.background,color:t.color&&t.color.foreground}),F.setDataAttribute(s,"event-key",t.key),F.setDataAttribute(s,"event-order",t.order),["event",`event-${t.key}`,"event-long"].forEach((t=>{F.addClass(s,t)})),j.findOne(`.${Z}`,e).append(s),this.options.readonly||t.readonly?F.addClass(s,"event-readonly"):(s.setAttribute("draggable",!0),this._appendMonthListeners(s,t)),t.readonly&&this._appendReadonlyEventListener(s),this.options.blur&&n().isAfter(i,"day")&&F.addClass(s,"event-blur")),n(t.end.date).isAfter(i)||F.addClass(s,"event-end"),this._initTooltip(s,t)}))}_appendDateTimeWeekEvent(t){t.start.dateTime.isSame(t.end.dateTime,"day")&&!t.start.dateTime.isSame(t.end.dateTime,"time")&&j.find("tr:not(.long-event-row) td",this._tBody).forEach((e=>{const a=n(e.dataset.dateTime,this.formats.dateTime);if(n(t.start.dateTime,this.formats.dateTime).minute(0).isSameOrBefore(a)&&!n(t.end.dateTime,this.formats.dateTime).isSameOrBefore(a)){const i=f("div");["event","event-short",`event-${t.key}`].forEach((t=>{F.addClass(i,t)})),i.innerHTML=`<i class="fas fa-circle event-circle pe-1" style="color: ${t.color.background}"></i>${t.summary}`,e.append(i),this.options.readonly||t.readonly?F.addClass(i,"event-readonly"):(i.setAttribute("draggable",!0),this._appendMonthListeners(i,t)),t.readonly&&this._appendReadonlyEventListener(i),this.options.blur&&n().isAfter(a,"day")&&F.addClass(i,"event-blur"),this._initTooltip(i,t)}}))}_appendEmptyList(){if(!j.find("td",this._tBody).length){const t=f("tr"),e=f("th");e.innerHTML=this.options.noEventsCaption,t.append(e),this._tBody.append(t)}}_appendListEvent(t){const e=this.activeMomentCopy.startOf("week"),a=this.activeMomentCopy.endOf("week");if(this.options.mondayFirst&&(e.add(1,"day"),a.add(1,"day")),n(t.start.dateTime).isBefore(a)&&(n(t.end.dateTime).isAfter(e)||n(t.end.dateTime).isSame(e))){const e=f("tr"),a=f("tr"),i=f("th"),s=f("td");i.innerHTML=R(t,this.formats);const o=t.color.background||"#cfe0fc";s.innerHTML=`<i class="pe-2 fas fa-circle" style="color: ${o}"></i><strong>${t.summary}</strong>`,e.append(i),a.append(s),this._tBody.append(e),this._tBody.append(a),t.description&&this._addListEventDescription(s,t.description),this.options.readonly||t.readonly?F.addClass(s,"td-readonly"):B.on(s,"mouseup",(e=>this._toggleEditEventModal(e,t))),t.readonly&&this._appendReadonlyEventListener(s),this.options.blur&&n().isAfter(t.end.dateTime,"day")&&F.addClass(s,"td-blur")}}_addListEventDescription(t,e){const n=f("p");F.addClass(n,"mb-0"),n.innerHTML=`<small>${e}</small>`,t.append(n)}_appendLongEventSection(){const t=f("tr");F.addClass(t,"long-event-row");const e=f("th");t.append(e);for(let a=0;a<7;a++){const e=f("td"),i=f("div");F.addClass(i,Z),e.append(i),t.append(e);const s=this.options.mondayFirst?this.activeMomentCopy.startOf("week").add(a+1,"day").format(this.formats.date):this.activeMomentCopy.startOf("week").add(a,"day").format(this.formats.date);e.dataset.date=s,n(s,this.formats.date).isSame(n(),"day")&&F.addClass(e,"today"),this.options.readonly||this._addDayFieldListeners(e,s)}this._tBody.append(t)}_appendHoursSection(){for(let t=0;t<23;t++){const e=f("tr"),n=f("th");F.addClass(n,"hour-field"),this.options.twelveHour?n.innerHTML=t>11?t-11+":00 pm":11===t?`${t+1}:00 pm`:`${t+1}:00 am`:n.innerHTML=`${t+1}:00`,e.append(n);for(let a=0;a<7;a++){const n=f("td"),i=this.options.mondayFirst?this.activeMomentCopy.startOf("week").add(a+1,"day").add(t+1,"hour").format(this.formats.dateTime):this.activeMomentCopy.startOf("week").add(a,"day").add(t+1,"hour").format(this.formats.dateTime);n.dataset.dateTime=i,e.append(n),this.options.readonly||this._addDayFieldListeners(n,i)}this._tBody.append(e)}}_setHeading(){switch(this._heading.innerHTML="",this.view){case"month":this._heading.innerHTML=`${this.options.months[this.activeMomentCopy.month()]} ${this.activeMomentCopy.year()}`;break;case"week":case"list":this._setWeekAndListHeading();break;default:return}}_setWeekAndListHeading(){const t=this.options.mondayFirst?this.activeMomentCopy.startOf("week").add(1,"day"):this.activeMomentCopy.startOf("week"),e=this.options.mondayFirst?this.activeMomentCopy.endOf("week").add(1,"day"):this.activeMomentCopy.endOf("week"),n=this.options.monthsShort[t.month()],a=this.options.monthsShort[e.month()];t.month()===e.month()?this._heading.innerHTML=`${this.options.months[t.month()]} ${t.year()}`:this._heading.innerHTML=`${n} - ${a}, ${t.year()}`}_clearTBody(){this._tBody.innerHTML="",this._table.className=""}_addListeners(){B.on(this._arrowLeft,"click",(()=>this.prev())),B.on(this._arrowRight,"click",(()=>this.next())),B.on(this._todayBtn,"click",(()=>this.today())),this.options.addEventButton&&!this.options.readonly&&B.on(this._newEventBtn,"click",(()=>this._toggleNewEventModal())),B.on(this._table,"mouseup",(()=>this._clearSelection())),this.options.viewSelect&&B.on(this._viewSelect,tt,(t=>this.changeView(t.value)))}_removeListeners(){B.off(this._arrowLeft,"click",this.prev),B.off(this._arrowRight,"click",this.next),B.off(this._todayBtn,"click",this.today),this.options.addEventButton&&!this.options.readonly&&B.off(this._newEventBtn,"click",this._toggleNewEventModal),this.options.viewSelect&&B.off(this._viewSelect,tt,this.changeView),B.off(this._table,"mouseup",this._clearSelection)}_getArrayFromNumber(t){return Array.from(Array(t).keys())}_getAllPrevEl(t){const e=[];let n=t.previousElementSibling;for(;n;)e.push(t),n=n.previousElementSibling;return e}_setLongEventCaptions(){"list"!==this.view&&j.find("tr",this._tBody).forEach((t=>{const e=j.findOne("td",t);j.find(".event",e).forEach((t=>{"&nbsp;"===t.innerHTML&&(t.innerHTML=this._events[parseInt(t.dataset.mdbEventKey,10)-1].summary,F.style(t,{paddingLeft:"7px"}))}))}))}_initTooltips(){this._tooltips=[...this._element.querySelectorAll('[data-mdb-toggle="tooltip"]')].map((t=>new mdb.Tooltip(t)))}_initSelect(){this._viewSelect&&this.options.viewSelect&&new mdb.Select(this._viewSelect)}_hideTooltip(t){this.options.tooltips&&mdb.Tooltip.getInstance(t.target).hide()}_refreshTable(){this._setTBody(),this._setHeading(),this._setEvents(),this._orderEvents(),this._setLongEventCaptions(),this._initTooltips()}_createAddEventModal(){this._addEventModal=f("div"),F.addClass(this._addEventModal,"modal"),F.addClass(this._addEventModal,"fade"),this._addEventModal.setAttribute("tabindex","-1"),this._addEventModal.setAttribute("aria-hidden","true"),document.body.appendChild(this._addEventModal)}_updateAddEventModalContent(){var t,e,a,i;this._addEventModal.innerHTML=(t=this.options,e=this._newEvent,a=this.formats,i=this._addModalId,`\n  <div class="modal-dialog">\n    <form>\n      <div class="modal-content">\n        <div class="modal-header">\n          <h5 class="modal-title">${t.addEventModalCaption}</h5>\n          <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>\n        </div>\n        <div class="modal-body">\n          <section class="summary-section">\n            <div class="form-outline my-3" data-mdb-input-init>\n              <input type="text" id="${i}addEventSummary" name="summary" class="form-control calendar-summary-input"\n              value='${e.summary}' />\n              <label class="form-label" for="${i}addEventSummary">${t.summaryCaption}</label>\n            </div>\n          </section>\n          <div class="form-outline my-3" data-mdb-input-init>\n            <textarea type="text" id="${i}addEventDescription" name="description" \n              class="form-control">${e.description}</textarea>\n            <label class="form-label" for="${i}addEventDescription">\n              ${t.descriptionCaption}\n            </label>\n          </div>\n          <div class="d-flex justify-content-between">\n            <div class="form-check mx-2">\n              <input\n                class="form-check-input calendar-long-events-checkbox"\n                type="checkbox"\n                checked\n                id="${i}longEventsCheckbox"\n              />\n              <label class="form-check-label" for="${i}longEventsCheckbox">\n                ${t.allDayCaption}\n              </label>\n            </div>\n            <div class="dropdown color-dropdown">\n              <button\n                class="dropdown-toggle color-dropdown-toggle form-control w-auto"\n                type="button"\n                id="dropdownMenuButton"\n                aria-expanded="false"\n              >\n                <i class="fas fa-circle" style="color: #cfe0fc"></i>\n              </button>\n              <ul class="dropdown-menu color-dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">\n                <li><a class="dropdown-item" name="color" data-background="#cfe0fc" data-foreground="#0a47a9" href="#"><i class="fas fa-circle" style="color: #cfe0fc"></i></a></li>\n                <li><a class="dropdown-item" name="color"  data-background="#ebcdfe" data-foreground="#6e02b1" href="#"><i class="fas fa-circle" style="color: #ebcdfe"></i></a></li>\n                <li><a class="dropdown-item" name="color"  data-background="#c7f5d9" data-foreground="#0b4121" href="#"><i class="fas fa-circle" style="color: #c7f5d9"></i></a></li>\n                <li><a class="dropdown-item" name="color"  data-background="#fdd8de" data-foreground="#790619" href="#"><i class="fas fa-circle" style="color: #fdd8de"></i></a></li>\n                <li><a class="dropdown-item" name="color"  data-background="#ffebc2" data-foreground="#453008" href="#"><i class="fas fa-circle" style="color: #ffebc2"></i></a></li>\n                <li><a class="dropdown-item" name="color"  data-background="#d0f0fb" data-foreground="#084154" href="#"><i class="fas fa-circle" style="color: #d0f0fb"></i></a></li>\n                <li><a class="dropdown-item" name="color"  data-background="#292929" data-foreground="#f5f5f5" href="#"><i class="fas fa-circle" style="color: #292929"></i></a></li>\n              </ul>\n            </div>\n          </div>\n          <section class="long-event-section">\n            <div class="form-outline datepicker my-3" data-mdb-input-init> \n              <input type="text" id="${i}addEventStartDate" name="start.date" class="form-control calendar-date-input"\n              value='${n(e.start.date).format(a.date)}' />\n              <label class="form-label" for="${i}addEventStartDate">\n                ${t.startCaption}\n              </label>\n            </div>\n          </section>\n          <section class="date-time-section" style="display: none">\n            <div class="row my-3">\n              <div class="col-6">\n                <div class="form-outline datepicker" data-mdb-input-init>\n                  <input type="text" id="${i}addEventStartDate2" name="start.date" class="form-control calendar-date-input"\n                  value='${n(e.start.dateTime).format(a.date)}' />\n                  <label class="form-label" for="${i}addEventStartDate2">\n                    ${t.startCaption}\n                  </label>\n                </div>\n              </div>\n              <div class="col-6">\n                <div class="form-outline timepicker" data-mdb-input-init>\n                  <input type="text" id="${i}addEventStartDateTime" name="start.time" class="form-control calendar-date-input" \n                  value=\n                  '${n(e.start.dateTime).format(a.time)}' \n                  />\n                  <label class="form-label" for="${i}addEventStartDateTime">\n                    ${t.startCaption}\n                  </label>\n                </div>\n              </div>\n            </div>\n          </section>\n          <section class="long-event-section">\n            <div class="form-outline datepicker my-3" data-mdb-input-init>\n              <input type="text" id="${i}addEventEndDate" name="end.date" class="form-control calendar-date-input"\n              value='${n(e.end.date).format(a.date)}' />\n              <label class="form-label" for="${i}addEventEndDate">\n                ${t.endCaption}\n              </label>\n            </div>\n          </section>\n          <section class="date-time-section" style="display: none">\n            <div class="row my-3">\n              <div class="col-6">\n                <div class="form-outline datepicker" data-mdb-input-init>\n                  <input type="text" id="${i}addEventEndDate2" name="end.date" class="form-control calendar-date-input"\n                  value='${n(e.end.dateTime).format(a.date)}' />\n                  <label class="form-label" for="${i}addEventEndDate2">\n                    ${t.endCaption}\n                  </label>\n                </div>\n              </div>\n              <div class="col-6">\n                <div class="form-outline timepicker" data-mdb-input-init>\n                  <input type="text" id="${i}addEventEndDateTime" name="end.time" class="form-control calendar-date-input" \n                  value=\n                  '${n(e.end.dateTime).format(a.time)}' \n                  />\n                  <label class="form-label" for="${i}addEventEndDateTime">\n                    ${t.endCaption}\n                  </label>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-danger" data-mdb-dismiss="modal">\n            ${t.closeCaption}\n          </button>\n          <button type="submit" class="btn btn-primary btn-add-event">\n            ${t.addCaption}\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>`);const s=j.findOne(K,this._addEventModal);B.on(s,"change",(t=>this._toggleLongEventMode(t))),this._editAddModalIfLongEvent(this._newEvent,s);const o=j.findOne("form",this._addEventModal);B.on(o,"submit",(t=>{this._addEvent(t)}))}_toggleLongEventMode(t){const e=t.target.checked,n=j.find(".long-event-section",this._addEventModal),a=j.find(".date-time-section",this._addEventModal);e?(n.forEach((t=>t.style.display="block")),a.forEach((t=>t.style.display="none"))):(n.forEach((t=>t.style.display="none")),a.forEach((t=>t.style.display="block"))),this._updateInputs()}_toggleLongEventModeInEditModal(t){const e=t.target.checked,a=j.find(".long-event-section",this._editEventModal),i=j.find(".date-time-section",this._editEventModal);e?(a.forEach((t=>t.style.display="block")),i.forEach((t=>{j.find(".timepicker-input",t).forEach((t=>{t.value="00:00",this._activeEvent.start.dateTime=n(this._activeEvent.start.dateTime).startOf("day"),this._activeEvent.end.dateTime=n(this._activeEvent.end.dateTime).startOf("day")})),t.style.display="none"}))):(a.forEach((t=>t.style.display="none")),i.forEach((t=>t.style.display="block"))),this._updateInputs()}_createEditEventModal(){this._editEventModal=f("div"),F.addClass(this._editEventModal,"modal"),F.addClass(this._editEventModal,"fade"),this._editEventModal.setAttribute("tabindex","-1"),this._editEventModal.setAttribute("aria-hidden","true"),document.body.appendChild(this._editEventModal)}_updateEditEventModalContent(){var t,e,a,i;this._editEventModal.innerHTML=(t=this.options,e=this._activeEvent,a=this.formats,i=this._editModalId,`\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title">${t.editEventModalCaption}</h5>\n        <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>\n      </div>\n      <div class="modal-body">\n        <section class="summary-section">\n          <div class="form-outline my-3" data-mdb-input-init>\n            <input type="text" id="${i}editEventSummary" name="summary" class="form-control calendar-summary-input"\n            value='${e.summary}' />\n            <label class="form-label" for="${i}editEventSummary">${t.summaryCaption}</label>\n          </div>\n        </section>\n        <div class="form-outline my-3" data-mdb-input-init>\n          <textarea type="text" id="${i}editEventDescription" name="description" \n            class="form-control" rows="3"\n            >${void 0===e.description?"":e.description}</textarea>\n          <label class="form-label" for="${i}editEventDescription">\n            ${t.descriptionCaption}\n          </label>\n        </div>\n        <div class="d-flex justify-content-between">\n          <div class="form-check mx-2 mt-1">\n            <input\n              class="form-check-input calendar-long-events-checkbox"\n              type="checkbox"\n              checked\n              id="${i}longEventsCheckbox"\n            />\n            <label class="form-check-label" for="${i}longEventsCheckbox">\n              ${t.allDayCaption}\n            </label>\n          </div>\n          <div class="dropdown color-dropdown">\n            <button\n              class="dropdown-toggle color-dropdown-toggle form-control w-auto"\n              type="button"\n              id="dropdownMenuButton"\n              aria-expanded="false"\n            >\n              <i class="fas fa-circle" style="color: #cfe0fc"></i>\n            </button>\n            <ul class="dropdown-menu color-dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">\n              <li><a class="dropdown-item" name="color" data-background="#cfe0fc" data-foreground="#0a47a9" href="#"><i class="fas fa-circle" style="color: #cfe0fc"></i></a></li>\n              <li><a class="dropdown-item" name="color"  data-background="#ebcdfe" data-foreground="#6e02b1" href="#"><i class="fas fa-circle" style="color: #ebcdfe"></i></a></li>\n              <li><a class="dropdown-item" name="color"  data-background="#c7f5d9" data-foreground="#0b4121" href="#"><i class="fas fa-circle" style="color: #c7f5d9"></i></a></li>\n              <li><a class="dropdown-item" name="color"  data-background="#fdd8de" data-foreground="#790619" href="#"><i class="fas fa-circle" style="color: #fdd8de"></i></a></li>\n              <li><a class="dropdown-item" name="color"  data-background="#ffebc2" data-foreground="#453008" href="#"><i class="fas fa-circle" style="color: #ffebc2"></i></a></li>\n              <li><a class="dropdown-item" name="color"  data-background="#d0f0fb" data-foreground="#084154" href="#"><i class="fas fa-circle" style="color: #d0f0fb"></i></a></li>\n              <li><a class="dropdown-item" name="color"  data-background="#292929" data-foreground="#f5f5f5" href="#"><i class="fas fa-circle" style="color: #292929"></i></a></li>\n            </ul>\n          </div>\n        </div>\n        <section class="long-event-section">\n          <div class="form-outline datepicker my-3" data-mdb-input-init>\n            <input type="text" id="${i}editEventStartDate" name="start.date" class="form-control calendar-date-input"\n            value='${n(e.start.date).format(a.date)}' />\n            <label class="form-label" for="${i}editEventStartDate">\n              ${t.startCaption}\n            </label>\n          </div>\n        </section>\n        <section class="date-time-section" style="display: none">\n          <div class="row my-3">\n            <div class="col-6">\n              <div class="form-outline datepicker" data-mdb-input-init>\n                <input type="text" id="${i}editEventStartDate2" name="start.date" class="form-control calendar-date-input"\n                value='${n(e.start.dateTime).format(a.date)}' />\n                <label class="form-label" for="${i}editEventStartDate2">\n                  ${t.startCaption}\n                </label>\n              </div>\n            </div>\n            <div class="col-6">\n              <div class="form-outline timepicker" data-mdb-input-init>\n                <input type="text" id="${i}editEventStartDateTime" name="start.time" class="form-control calendar-date-input" \n                value=\n                '${n(e.start.dateTime).format(a.time)}' \n                />\n                <label class="form-label" for="${i}editEventStartDateTime">\n                  ${t.startCaption}\n                </label>\n              </div>\n            </div>\n          </div>\n        </section>\n        <section class="long-event-section">\n          <div class="form-outline datepicker my-3" data-mdb-input-init>\n            <input type="text" id="${i}editEventEndDate" name="end.date" class="form-control calendar-date-input"\n            value='${n(e.end.date).format(a.date)}' />\n            <label class="form-label" for="${i}editEventEndDate">\n              ${t.endCaption}\n            </label>\n          </div>\n        </section>\n        <section class="date-time-section" style="display: none">\n          <div class="row my-3">\n            <div class="col-6">\n              <div class="form-outline datepicker" data-mdb-input-init>\n                <input type="text" id="${i}editEventEndDate2" name="end.date" class="form-control calendar-date-input"\n                value='${n(e.end.dateTime).format(a.date)}' />\n                <label class="form-label" for="${i}editEventEndDate2">\n                  ${t.endCaption}\n                </label>\n              </div>\n            </div>\n            <div class="col-6">\n              <div class="form-outline timepicker" data-mdb-input-init>\n                <input type="text" id="${i}editEventEndDateTime" name="end.time" class="form-control calendar-date-input" \n                value=\n                '${n(e.end.dateTime).format(a.time)}' \n                />\n                <label class="form-label" for="${i}editEventEndDateTime">\n                  ${t.endCaption}\n                </label>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-danger btn-delete-event" >\n          ${t.deleteCaption}\n        </button>\n        <button type="button" class="btn btn-primary btn-save-event">\n          ${t.saveCaption}\n        </button>\n      </div>\n    </div>\n  </div>\n  `);const s=j.findOne(K,this._editEventModal);B.on(s,"change",(t=>this._toggleLongEventModeInEditModal(t))),this._editModalIfLongEvent(this._activeEvent,s);const o=j.findOne(".btn-save-event",this._editEventModal),d=j.findOne(".btn-delete-event",this._editEventModal);B.on(o,"click",(()=>{this._editEvent()})),B.on(d,"click",(()=>{this._deleteEvent()}))}_editAddModalIfLongEvent(t,e){if("short-event"===P(t)||"long-event-with-time"===P(t)){e.checked=!1;const t=j.find(".long-event-section",this._addEventModal),n=j.find(".date-time-section",this._addEventModal);t.forEach((t=>t.style.display="none")),n.forEach((t=>t.style.display="block"))}}_editModalIfLongEvent(t,e){if("short-event"===P(t)||"long-event-with-time"===P(t)){e.checked=!1;const t=j.find(".long-event-section",this._editEventModal),n=j.find(".date-time-section",this._editEventModal);t.forEach((t=>t.style.display="none")),n.forEach((t=>t.style.display="block"))}}_addEvent(t){if(t.preventDefault(),this._validateEvent(this._newEvent)){const t=this.options.newEventAttributes(this._newEvent);this._events.push({...t,summary:t.summary,start:t.start,end:t.end,color:t.color||{},description:t.description||""}),B.trigger(this._element,"addEvent.mdb.calendar",{event:this._parseEvent(t)}),this.refresh(),this._addEventModalInstance.hide()}else this._setInputsInvalid(this._newEvent)}_validateEvent(t){return!(!t.start.dateTime.isSameOrBefore(t.end.dateTime)||!t.summary)}_setInputsInvalid(t){t.end.dateTime.isBefore(t.start.dateTime)&&j.find(".calendar-date-input").forEach((t=>{F.addClass(t,"calendar-invalid-input"),F.addClass(t.parentNode.parentNode,"was-validated")})),""===t.summary&&j.find(".calendar-summary-input").forEach((t=>{F.addClass(t,"calendar-invalid-input"),F.addClass(t.parentNode.parentNode,"was-validated")}))}_clearValidation(){j.find(".calendar-date-input").forEach((t=>{F.removeClass(t,"calendar-invalid-input"),F.removeClass(t.parentNode.parentNode,"was-validated")})),j.find(".calendar-summary-input").forEach((t=>{F.removeClass(t,"calendar-invalid-input"),F.removeClass(t.parentNode.parentNode,"was-validated")}))}_editEvent(){this._validateEvent(this._activeEvent)?(this._events[this.activeEventIndex].summary=this._activeEvent.summary,this._events[this.activeEventIndex].start.date=this._activeEvent.start.date,this._events[this.activeEventIndex].start.dateTime=this._activeEvent.start.dateTime,this._events[this.activeEventIndex].end.date=this._activeEvent.end.date,this._events[this.activeEventIndex].end.dateTime=this._activeEvent.end.dateTime,this._events[this.activeEventIndex].description=this._activeEvent.description,this._events[this.activeEventIndex].color.background=this._activeEvent.color&&this._activeEvent.color.background,this._events[this.activeEventIndex].color.foreground=this._activeEvent.color.foreground,B.trigger(this._element,Q,{event:this._parseEvent(this._activeEvent)}),this.refresh(),this._editEventModalInstance.hide()):this._setInputsInvalid(this._activeEvent)}_deleteEvent(){B.trigger(this._element,"deleteEvent.mdb.calendar",{event:this._parseEvent(this._events[this.activeEventIndex])}),this._events.splice(this.activeEventIndex,1),this.refresh(),this._editEventModalInstance.hide()}_clearEvents(){j.find(".event",this._element).forEach((t=>{t.remove()}))}_triggerEvent(t){B.trigger(this._element,`${t}.mdb.calendar`)}_disposeModals(){this._addEventModalInstance&&this._addEventModalInstance.dispose(),this._addEventModal&&this._addEventModal.remove(),this._editEventModalInstance&&this._editEventModalInstance.dispose(),this._editEventModal&&this._editEventModal.remove()}static get NAME(){return W}static get dayjs(){return n}static getInstance(t){return u.getData(t,U)}static jQueryInterface(t,e){return this.each((function(){let n=u.getData(this,U);const a="object"==typeof t&&t;if((n||!/dispose/.test(t))&&(n||(n=new at(this,a)),"string"==typeof t)){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}var it;return it=()=>{const t=m();if(t){const e=t.fn[W];t.fn[W]=at.jQueryInterface,t.fn[W].Constructor=at,t.fn[W].noConflict=()=>(t.fn[W]=e,at.jQueryInterface)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",it):it(),j.find("[data-mdb-calendar-init]").forEach((t=>new at(t))),at}));
//# sourceMappingURL=calendar.min.js.map
