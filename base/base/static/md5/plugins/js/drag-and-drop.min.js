!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).DragAndDrop={})}(this,(function(t){"use strict";const e=t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},i=(t,e,i)=>{Object.keys(i).forEach((n=>{const s=i[n],r=e[n],o=r&&((a=r)[0]||a).nodeType?"element":(t=>null==t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase())(r);var a;if(!new RegExp(s).test(o))throw new Error(`${t.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${s}".`)}))},n=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-mdb-no-jquery")?t:null},s=t=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()};document.documentElement.dir;const r=(()=>{const t={};let e=1;return{set(i,n,s){void 0===i[n]&&(i[n]={key:n,id:e},e++),t[i[n].id]=s},get(e,i){if(!e||void 0===e[i])return null;const n=e[i];return n.key===i?t[n.id]:null},delete(e,i){if(void 0===e[i])return;const n=e[i];n.key===i&&(delete t[n.id],delete e[i])}}})(),o={setData(t,e,i){r.set(t,e,i)},getData:(t,e)=>r.get(t,e),removeData(t,e){r.delete(t,e)}};function a(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function l(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const h={setDataAttribute(t,e,i){t.setAttribute(`data-mdb-${l(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-mdb-${l(e)}`)},getDataAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter((t=>t.startsWith("mdb"))).forEach((t=>{let i=t.replace(/^mdb/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=a(e[t])})),e},getDataAttribute:(t,e)=>a(t.getAttribute(`data-mdb-${l(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:t=>({top:t.offsetTop,left:t.offsetLeft}),style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))},addClass(t,e){t.classList.contains(e)||t.classList.add(e)},addStyle(t,e){Object.keys(e).forEach((i=>{t.style[i]=e[i]}))},removeClass(t,e){t.classList.contains(e)&&t.classList.remove(e)},hasClass:(t,e)=>t.classList.contains(e)};let d=Element.prototype.querySelectorAll,c=Element.prototype.querySelector;const g=(()=>{const t=new CustomEvent("Bootstrap",{cancelable:!0}),e=document.createElement("div");return e.addEventListener("Bootstrap",(()=>null)),t.preventDefault(),e.dispatchEvent(t),t.defaultPrevented})(),_=/:scope\b/;(()=>{const t=document.createElement("div");try{t.querySelectorAll(":scope *")}catch(e){return!1}return!0})()||(d=function(t){if(!_.test(t))return this.querySelectorAll(t);const i=Boolean(this.id);i||(this.id=e("scope"));let n=null;try{t=t.replace(_,`#${this.id}`),n=this.querySelectorAll(t)}finally{i||this.removeAttribute("id")}return n},c=function(t){if(!_.test(t))return this.querySelector(t);const e=u.call(this,t);return void 0!==e[0]?e[0]:null});const u=d,f=c,m=n(),p=/[^.]*(?=\..*)\.|.*/,b=/\..*/,E=/::\d+$/,O={};let v=1;const y={mouseenter:"mouseover",mouseleave:"mouseout"},j=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function x(t,e){return e&&`${e}::${v++}`||t.uidEvent||v++}function C(t){const e=x(t);return t.uidEvent=e,O[e]=O[e]||{},O[e]}function L(t,e,i=null){const n=Object.keys(t);for(let s=0,r=n.length;s<r;s++){const r=t[n[s]];if(r.originalHandler===e&&r.delegationSelector===i)return r}return null}function T(t,e,i){const n="string"==typeof e,s=n?i:e;let r=t.replace(b,"");const o=y[r];o&&(r=o);return j.indexOf(r)>-1||(r=t),[n,s,r]}function D(t,e,i,n,s){if("string"!=typeof e||!t)return;i||(i=n,n=null);const[r,o,a]=T(e,i,n),l=C(t),h=l[a]||(l[a]={}),d=L(h,o,r?i:null);if(d)return void(d.oneOff=d.oneOff&&s);const c=x(o,e.replace(p,"")),g=r?function(t,e,i){return function n(s){const r=t.querySelectorAll(e);for(let{target:e}=s;e&&e!==this;e=e.parentNode)for(let o=r.length;o--;"")if(r[o]===e)return n.oneOff&&I.off(t,s.type,i),i.apply(e,[s]);return null}}(t,i,n):function(t,e){return function i(n){return i.oneOff&&I.off(t,n.type,e),e.apply(t,[n])}}(t,i);g.delegationSelector=r?i:null,g.originalHandler=o,g.oneOff=s,g.uidEvent=c,h[c]=g,t.addEventListener(a,g,r)}function w(t,e,i,n,s){const r=L(e[i],n,s);r&&(t.removeEventListener(i,r,Boolean(s)),delete e[i][r.uidEvent])}const I={on(t,e,i,n){D(t,e,i,n,!1)},one(t,e,i,n){D(t,e,i,n,!0)},off(t,e,i,n){if("string"!=typeof e||!t)return;const[s,r,o]=T(e,i,n),a=o!==e,l=C(t),h="."===e.charAt(0);if(void 0!==r){if(!l||!l[o])return;return void w(t,l,o,r,s?i:null)}h&&Object.keys(l).forEach((i=>{!function(t,e,i,n){const s=e[i]||{};Object.keys(s).forEach((r=>{if(r.indexOf(n)>-1){const n=s[r];w(t,e,i,n.originalHandler,n.delegationSelector)}}))}(t,l,i,e.slice(1))}));const d=l[o]||{};Object.keys(d).forEach((i=>{const n=i.replace(E,"");if(!a||e.indexOf(n)>-1){const e=d[i];w(t,l,o,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,i){if("string"!=typeof e||!t)return null;const n=e.replace(b,""),s=e!==n,r=j.indexOf(n)>-1;let o,a=!0,l=!0,h=!1,d=null;return s&&m&&(o=m.Event(e,i),m(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented()),r?(d=document.createEvent("HTMLEvents"),d.initEvent(n,a,!0)):d=new CustomEvent(e,{bubbles:a,cancelable:!0}),void 0!==i&&Object.keys(i).forEach((t=>{Object.defineProperty(d,t,{get:()=>i[t]})})),h&&(d.preventDefault(),g||Object.defineProperty(d,"defaultPrevented",{get:()=>!0})),l&&t.dispatchEvent(d),d.defaultPrevented&&void 0!==o&&o.preventDefault(),d}},A={closest:(t,e)=>t.closest(e),matches:(t,e)=>t.matches(e),find:(t,e=document.documentElement)=>[].concat(...u.call(e,t)),findOne:(t,e=document.documentElement)=>f.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let n=t.parentNode;for(;n&&n.nodeType===Node.ELEMENT_NODE&&3!==n.nodeType;)this.matches(n,e)&&i.push(n),n=n.parentNode;return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(this.matches(i,e))return[i];i=i.nextElementSibling}return[]}},S="draggable",X=`mdb.${S}`,Y=`.${X}`,$="shadow-3-strong",B="draggable-return-animate",M={container:"body",blockXAxis:!1,blockYAxis:!1,delay:0,disabled:!1,dragHandle:"",scrollPixels:40,draggingClass:"dragging"},k={container:"string",blockXAxis:"boolean",blockYAxis:"boolean",delay:"number",disabled:"boolean",dragHandle:"string",draggingClass:"string"},P=`start${Y}`,R=`end${Y}`,H=`itemMove${Y}`;class N{constructor(t,e={}){this._element=t,this._options=e,this._dragActive=!1,this._currentX=void 0,this._currentY=void 0,this._initialX=void 0,this._initialY=void 0,this._xOffset=0,this._yOffset=0,this._topY=-this.containerTop,this._bottomY=this.containerBottom,this._leftX=-this.containerLeft,this._rightX=this.containerRight,this._scrollableX=this.containerScrollableX,this._scrollableY=this.containerScrollableY,this._timeStart=0,this._timeEnd=0,this._delayTimeout=void 0,this._element&&(o.setData(t,X,this),this._dragStart=this._dragStart.bind(this),this._dragEnd=this._dragEnd.bind(this),this._drag=this._drag.bind(this),this._takeAgainCoordinates=this._takeAgainCoordinates.bind(this),this._setup())}get options(){const t={...M,...h.getDataAttributes(this._element),...this._options};return i(S,t,k),t}get customContainerExist(){return"body"!==this.options.container}get container(){return this.customContainerExist?A.findOne(this.options.container):window}get timeNow(){return performance.now()}get dragEl(){if(this.options.dragHandle.length){let t=A.findOne(this.options.dragHandle,this._element);return t=t||this._element,t}return this._element}get containerTop(){const t=this.customContainerExist?this.container.getBoundingClientRect().top:1,e=this._element.getBoundingClientRect().top;return this.customContainerExist?e-t:1}get containerBottom(){return this.customContainerExist&&-this.containerTop+this.container.getBoundingClientRect().height-this._element.getBoundingClientRect().height}get containerLeft(){const t=this.customContainerExist?this.container.getBoundingClientRect().left:1,e=this._element.getBoundingClientRect().left;return this.customContainerExist?e-t:1}get containerRight(){return this.customContainerExist&&this.container.getBoundingClientRect().width-this._element.getBoundingClientRect().width-this.containerLeft}get containerScrollableY(){return this.container.scrollHeight>this.container.clientHeight}get containerScrollableX(){return this.container.scrollWidth>this.container.clientWidth}dispose(){I.off(this.dragEl,"touchstart",this._dragStart),I.off(this.dragEl,"mousedown",this._dragStart),I.off(window,"resize",this._takeAgainCoordinates),o.removeData(this._element,X),this._element=null}resetPosition(){this._element.classList.add(B),this._setTranslate(0,0),this._xOffset=0,this._yOffset=0,setTimeout((()=>{this._element.classList.remove(B)}),350)}_setup(){this.options.disabled?h.addClass(this.dragEl,"draggable-disabled"):(this._dragTriggers(),h.addClass(this.dragEl,"draggable-cursor-grab"))}_dragTriggers(){I.on(this.dragEl,"touchstart",this._dragStart),I.on(this.dragEl,"mousedown",this._dragStart),I.on(window,"resize",this._takeAgainCoordinates)}_dragStart(t){this._timeStart=this.timeNow,this.options.delay>0?this._delayTimeout=setTimeout((()=>{this._turnOnAnimations(),this._getInitialPos(t)}),this.options.delay):(this._turnOnAnimations(),this._getInitialPos(t)),I.on(this.container,"touchend",this._dragEnd),this.container.addEventListener("touchmove",this._drag,{passive:!1}),I.on(window,"mouseup",this._dragEnd),I.on(window,"mousemove",this._drag)}_getInitialPos(t){I.trigger(this._element,P),this._dragActive=!0;const e=t.touches,i=e?e[0].clientX:t.clientX,n=e?e[0].clientY:t.clientY,s=this._scrollableX?this.container.scrollLeft:0,r=this._scrollableY?this.container.scrollTop:0;this._initialX=i-this._xOffset+s,this._initialY=n-this._yOffset+r}_turnOnAnimations(){h.addClass(this.dragEl,this.options.draggingClass),h.addClass(this._element,this.options.draggingClass),h.addClass(this._element,$)}_dragEnd(){this._turnOffAnimations(),this._dragActive&&(I.trigger(this._element,R),this._dragActive=!1),this._initialX=this._currentX,this._initialY=this._currentY,I.off(this.container,"touchend",this._dragEnd),this.container.removeEventListener("touchmove",this._drag,{passive:!1}),I.off(window,"mouseup",this._dragEnd),I.off(window,"mousemove",this._drag)}_turnOffAnimations(){this.dragEl.classList.remove(this.options.draggingClass),this._element.classList.remove(this.options.draggingClass),this._element.classList.remove($)}_drag(t){t.preventDefault(),this._timeEnd=this.timeNow;if(this._timeEnd-this._timeStart>this.options.delay){I.trigger(this._element,H);const e="touchmove"===t.type,i=e?t.touches[0].clientX:t.clientX,n=e?t.touches[0].clientY:t.clientY,s=this._getDistanceY(n),r=this._getDistanceX(i),o=this._scrollableX?this.container.scrollLeft:0,a=this._scrollableY?this.container.scrollTop:0;this._currentX=this.options.blockXAxis?0:r+o,this._currentY=this.options.blockYAxis?0:s+a,this.customContainerExist&&this._scroll(i,n),this._xOffset=this._currentX,this._yOffset=this._currentY,this._setTranslate(this._currentX,this._currentY)}else clearTimeout(this._delayTimeout),this._dragEnd()}_getDistanceY(t){const e=this._topY<t-this._initialY,i=this._bottomY>t-this._initialY,n=t-this._initialY;let s=e?n:this._topY;return s=i?s:this._bottomY,s=this.customContainerExist?s:n,s}_getDistanceX(t){const e=this._leftX<t-this._initialX,i=this._rightX>t-this._initialX,n=t-this._initialX;let s=e?n:this._leftX;return s=i?s:this._rightX,s=this.customContainerExist?s:n,s}_scroll(t,e){const i=this._scrollActiveRight(t),n=this._scrollActiveLeft(t),s=this._scrollActiveBot(e),r=this._scrollActiveTop(e),o=this.container.scrollLeft+this.options.scrollPixels,a=this.container.scrollLeft-this.options.scrollPixels,l=this.container.scrollTop+this.options.scrollPixels,h=this.container.scrollTop-this.options.scrollPixels;i?this.container.scrollTo({left:o}):n&&this.container.scrollTo({left:a}),s?this.container.scrollTo({top:l}):r&&this.container.scrollTo({top:h})}_scrollActiveRight(t){return this._rightX<t-this._initialX}_scrollActiveLeft(t){return this._leftX>t-this._initialX}_scrollActiveBot(t){return this._bottomY<t-this._initialY}_scrollActiveTop(t){return this._topY>t-this._initialY}_setTranslate(t,e){h.style(this._element,{transform:`translate3d(${t}px, ${e}px, 0px)`})}_takeAgainCoordinates(){this._topY=-this.containerTop+this._yOffset,this._bottomY=this.containerBottom+this._yOffset,this._leftX=-this.containerLeft+this._xOffset,this._rightX=this.containerRight+this._xOffset}static get NAME(){return S}static getInstance(t){return o.getData(t,X)}static jQueryInterface(t){return this.each((function(){let e=o.getData(this,X);if(e||(e=new N(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}A.find("[data-mdb-draggable-init]").forEach((t=>{let e=N.getInstance(t);return e||(e=new N(t)),e})),s((()=>{const t=n();if(t){const e=t.fn[S];t.fn[S]=N.jQueryInterface,t.fn[S].Constructor=N,t.fn[S].noConflict=()=>(t.fn[S]=e,N.jQueryInterface)}}));const F="sortable",q=`mdb.${F}`,Q=`.${q}`,W="sortable-list",z="sortable-item",U={connectedList:null,copy:!1,sorting:!0,enterPredicate:()=>!0,animationDuration:300,itemClass:z},V={connectedList:"element|null|string",copy:"boolean",sorting:"boolean",enterPredicate:"function",animationDuration:"number",itemClass:"string"},Z=`start${Q}`,G=`itemMove${Q}`,J=`listChange${Q}`;class K{constructor(t,e={}){this._element=t,this._options=e,this._listElements=this._getListElements(),this._draggingObject=null,this._initialX=0,this._initialY=0,this._touch=!1,this._element&&(o.setData(t,q,this),this._handleMouseEnter=this._handleMouseEnter.bind(this),this._handleDragStart=this._handleDragStart.bind(this),this._initSortableElements=this._initSortableElements.bind(this),this._handleMouseOverConnTab=this._handleMouseOverConnTab.bind(this),this._setup())}get options(){const t={...U,...h.getDataAttributes(this._element),...this._options};return i(F,t,V),t}get _listItems(){const t=`.${this.options.itemClass}`;return A.find(t,this._element)}get _connectedListInstance(){const{connectedList:t}=this.options;if("string"==typeof t){const e=A.findOne(t);return!!e&&K.getInstance(e)}return!!t&&K.getInstance(t)}dispose(){this._listElements.forEach((t=>{I.off(t.handlerForDrag,"mousedown",this._handleDragStart),I.off(t.handlerForDrag,"touchstart",this._handleDragStart)})),o.removeData(this._element,q),this._element=null}addItem(t,i,n={}){"number"!=typeof i&&(i=this._listElements.length);const s=this._getHandler(t),r={...n,id:e(`${z}-`),customId:t.id||null,el:t,index:i,helperInstance:null,handlerEl:null,helperEl:null,offsetTop:null,offsetLeft:null,translateX:0,translateY:0,initialDisplay:t.style.display,returnAnimation:!0,handlerForDrag:s};t.setAttribute("data-mdb-id",r.id),I.on(r.handlerForDrag,"mousedown",this._handleDragStart),I.on(r.handlerForDrag,"touchstart",this._handleDragStart),this._pushItemBetween(i,r),this._draggingObject=this._listElements,this._rerenderList()}removeItem(t){this._listElements.length>0&&(this._draggingObject=this._listElements,this._rerenderWithoutRemoved(t),this._listElements=this._getListElements(),this._draggingObject=this._listElements)}_getListElements(){const t=[];return this._listItems.forEach(((i,n)=>{const s=this._getHandler(i),r={id:e(`${z}-`),customId:i.id||null,el:i,index:n,helperInstance:null,handlerEl:null,helperEl:null,offsetTop:i.offsetTop,offsetLeft:i.offsetLeft,translateX:0,translateY:0,initialDisplay:i.style.display,returnAnimation:!0,handlerForDrag:s};i.setAttribute("data-mdb-id",r.id),t.push(r)})),t}_getHandler(t){if(t.hasAttribute("data-mdb-drag-handle")){const e=t.getAttribute("data-mdb-drag-handle");let i=A.findOne(e,t);return i=i||t,i}return t}_setup(){this._makeItemsDraggable()}_makeItemsDraggable(){this._listElements.forEach((t=>{const e=h.getDataAttributes(t.el);t.options=e,t.options.disabled||(I.on(t.handlerForDrag,"mousedown",this._handleDragStart),I.on(t.handlerForDrag,"touchstart",this._handleDragStart))}))}_handleDragStart(t){this._touch=t.touches,this._touch&&t.preventDefault(),this._getDraggingObj(t),this._setCursorMove(),this._setInitInfo(t),I.one(window,"mousemove",this._initSortableElements),I.one(window,"touchmove",this._initSortableElements)}_getDraggingObj(t){const{itemClass:e}=this.options,i=t.target.classList.contains(this.options.itemClass)?t.target:A.parents(t.target,`.${e}`)[0];this._draggingObject=this._listElements.filter((t=>t.id===i.getAttribute("data-mdb-id")))[0]}_setCursorMove(){document.body.classList.add("cursor-drag")}_initSortableElements(t){this._triggerStartEvent(t),this._createHelper(t),this._createHandler(),this._hideOriginalItem(),this._setEvents()}_triggerStartEvent(t){I.trigger(this._element,Z,{target:t.target})}_setInitInfo(t){const e=t.touches,i=e?e[0].clientX:t.clientX,n=e?e[0].clientY:t.clientY;this._initialY=n-this._draggingObject.el.getBoundingClientRect().top,this._initialX=i-this._draggingObject.el.getBoundingClientRect().left}_createHandler(){const t=this._draggingObject.el.cloneNode(!0),{copy:e}=this.options,i=e?{}:{visibility:"hidden"};h.style(t,i);const n=this._draggingObject.el.parentNode;this._draggingObject.handlerEl=t,n.insertBefore(t,this._draggingObject.el)}_createHelper(t){const e=this._draggingObject.el.cloneNode(!0),{copy:i}=this.options;e.classList.add("sortable-item-dragging");const n=i?{opacity:"0.5"}:{};h.style(e,n),I.off(e,"mousedown",this._initSortableElements),I.off(e,"touchstart",this._initSortableElements),this._draggingObject.helperEl=e;const s=this._getDraggingElStyle(t);h.style(e,{...s}),document.body.appendChild(e);const r=new N(e);this._draggingObject.helperInstance=r,r._dragStart(t)}_getDraggingElStyle(t){const e=t.touches,i=e?e[0].clientX:t.clientX,n=e?e[0].clientY:t.clientY,s=this._draggingObject.el.getBoundingClientRect().height;return{width:`${this._draggingObject.el.getBoundingClientRect().width}px`,height:`${s}px`,position:"fixed",top:n-(n-this._draggingObject.el.getBoundingClientRect().top)+"px",left:i-(i-this._draggingObject.el.getBoundingClientRect().left)+"px"}}_setTranslate(t,e,i){h.style(t,{transform:`translate3d(${e}px, ${i}px, 0px)`})}_hideOriginalItem(){h.style(this._draggingObject.el,{display:"none"}),document.body.appendChild(this._draggingObject.el)}_setEvents(){const{sorting:t}=this.options,e=this._listElements.filter((t=>t.id!==this._draggingObject.id));t&&e.forEach((t=>{const e=this.options.animationDuration/1e3;h.style(t.el,{transition:`transform ${e}s`}),I.on(t.el,"pointerenter",this._handleMouseEnter)})),I.one(window,"touchend",(t=>{this._handleMouseUp(t,e)})),I.one(window,"mouseup",(t=>{this._handleMouseUp(t,e)})),this._connectedListInstance&&this._setHandlersForConnectedTab()}_handleMouseEnter(t){const e=this._getTarget(t);I.trigger(this._draggingObject.el,G,{target:e.el});const i=e.index>this._draggingObject.index,n=this._getItemsToMove(i,e);this._slideItems(i,n),this._slideHandler(i,e,n),this._draggingObject.index=e.index,this._setIndexes(n,i)}_getTarget(t){const{itemClass:e}=this.options,i=t.target.classList.contains(this.options.itemClass)?t.target:A.parents(t.target,`.${e}`)[0];return this._listElements.filter((t=>t.id===i.getAttribute("data-mdb-id")))[0]}_slideItems(t,e){e.forEach((e=>{const i=t?e.index-1:e.index+1,n=this._listElements[i],s=n.offsetTop-e.offsetTop,r=n.offsetLeft-e.offsetLeft;e.translateY=s,e.translateX=r,this._setTranslate(e.el,r,s)}))}_slideHandler(){let t=0,e=0;this._listElements.forEach((i=>{t-=i.translateY,e-=i.translateX})),this._setTranslate(this._draggingObject.handlerEl,e,t)}_getItemsToMove(t,e){return this._listElements.filter((i=>t?this._draggingObject.index<i.index&&i.index<=e.index:this._draggingObject.index>i.index&&i.index>=e.index))}_setIndexes(t,e){this._listElements=this._listElements.map((i=>(t.forEach((t=>{i.id===t.id&&(e?t.index--:t.index++)})),i)))}_handleMouseUp(t,e){this._setTranslate(this._draggingObject.handlerEl,0,0),e.forEach((t=>{I.off(t.el,"pointerenter",this._handleMouseEnter),h.style(t.el,{transition:"none"}),this._setTranslate(t.el,0,0)})),this._connectedListInstance&&I.off(this._connectedListInstance._element,"pointerover",this._handleMouseOverConnTab),this._listElements=this._listElements.sort(this._sortIndex),this._removeCursorMove(),this._rerenderList(),this._swapElements(t),this._removeHelpers(),this._setOffsets(),this._resetTranslatesInfo()}_removeCursorMove(){document.body.classList.remove("cursor-drag")}_rerenderList(){this._listElements.forEach((t=>{t.id!==this._draggingObject.id?this._element.appendChild(t.el):this._element.appendChild(this._draggingObject.handlerEl)}))}_rerenderWithoutRemoved(t){this._listElements.forEach((e=>{e.customId===t&&(e.id!==this._draggingObject.id?this._element.removeChild(e.el):this._element.removeChild(this._draggingObject.handlerEl))}))}_swapElements(t){const{posX:e,posY:i}=this._getPositions(t);this._setOriginalElPosition(),this._startElReturnAnimation(e,i)}_getPositions(t){const e=t.changedTouches,i=e?e[0].clientX:t.clientX,n=(e?e[0].clientY:t.clientY)-this._draggingObject.handlerEl.getBoundingClientRect().top,s=i-this._draggingObject.handlerEl.getBoundingClientRect().left;return{posX:this._draggingObject.options.blockXAxis?0:s-this._initialX,posY:this._draggingObject.options.blockYAxis?0:n-this._initialY}}_setOriginalElPosition(){this._draggingObject.handlerEl.parentNode.insertBefore(this._draggingObject.el,this._draggingObject.handlerEl);const t=this._draggingObject.initialDisplay;h.style(this._draggingObject.el,{display:t})}_startElReturnAnimation(t,e){this._setTranslate(this._draggingObject.el,t,e),setTimeout((()=>{this._draggingObject.returnAnimation&&h.style(this._draggingObject.el,{transition:"transform 0.3s"}),this._setTranslate(this._draggingObject.el,0,0)})),setTimeout((()=>{h.style(this._draggingObject.el,{transition:"none"})}),this.options.animationDuration)}_removeHelpers(){this._draggingObject.helperEl.remove(),this._draggingObject.handlerEl.remove()}_setOffsets(){this._listElements.forEach((t=>{t.offsetLeft=t.el.offsetLeft,t.offsetTop=t.el.offsetTop}))}_resetTranslatesInfo(){this._listElements.forEach((t=>{t.translateX=0,t.translateY=0}))}_setHandlersForConnectedTab(){I.one(this._connectedListInstance._element,"pointerover",this._handleMouseOverConnTab)}_handleMouseOverConnTab(t){const{copy:e}=this.options,i=this._hasProperValue(),n=this._connectedListInstance._element;i&&(I.trigger(this._draggingObject.el,J,{target:n}),e?this._copyItems(t):this._sendItem(t))}_copyItems(t){const e=this._connectedListInstance,i=t.target.classList.contains(z),n=t.target.classList.contains(W);if(this._draggingObject.returnAnimation=!1,h.style(this._draggingObject.handlerEl,{visibility:"visible"}),i){const i=e._listElements.filter((e=>e.id===t.target.getAttribute("data-mdb-id")))[0],n=i.el.offsetTop,s=i.el.offsetLeft,r=i.el.parentNode,o=this._draggingObject.el.cloneNode(!0);h.style(o,{display:this._draggingObject.initialDisplay}),r.insertBefore(o,i.el),e._setOffsets(),e.addItem(o,i.index,{offsetTop:n,offsetLeft:s}),e._handleDragStart({target:o}),setTimeout((()=>{h.style(e._draggingObject.helperEl,{display:"none"}),this._setElToPreview(e._draggingObject.handlerEl)}))}else if(n){const i=this._draggingObject.el.cloneNode(!0);h.style(i,{display:this._draggingObject.initialDisplay}),t.target.appendChild(i),e.addItem(i),e._handleDragStart({target:i}),setTimeout((()=>{h.style(e._draggingObject.helperEl,{display:"none"}),this._setElToPreview(e._draggingObject.handlerEl)}))}}_setElToPreview(t){h.style(t,{visibility:"visible"}),h.style(this._draggingObject.helperEl,{opacity:"0.5"})}_sendItem(t){const e=this._connectedListInstance,i=t.target.classList.contains(z),n=t.target.classList.contains(W);if(e._initialX=this._initialX,e._initialY=this._initialY,i){const i=e._listElements.filter((e=>e.id===t.target.getAttribute("data-mdb-id")))[0],n=i.el.offsetTop,s=i.el.offsetLeft;this._turnOffEvents(),e._draggingObject=this._draggingObject,e._draggingObject.index=i.index,this._listElements=this._listElements.filter((t=>t.id!==this._draggingObject.id)),this._resetIndexes(),this._resetTranslates(),e._pushItemBetween(i.index,e._draggingObject),i.el.parentNode.insertBefore(e._draggingObject.handlerEl,i.el),this._rerenderList(),e._setOffsets(),e._draggingObject.offsetTop=n,e._draggingObject.offsetLeft=s,i.offsetLeft=i.el.offsetLeft,i.offsetTop=i.el.offsetTop,this._turnOnEvents()}else n&&(this._turnOffEvents(),e._draggingObject=this._draggingObject,e._draggingObject.index=e._listElements.length,this._listElements=this._listElements.filter((t=>t.id!==this._draggingObject.id)),this._resetIndexes(),this._resetTranslates(),e._listElements=[...e._listElements,e._draggingObject],e._element.appendChild(e._draggingObject.handlerEl),e._draggingObject.offsetTop=e._draggingObject.handlerEl.offsetTop,e._draggingObject.offsetLeft=e._draggingObject.handlerEl.offsetLeft,this._turnOnEvents())}_resetIndexes(){this._listElements.forEach(((t,e)=>{t.index=e}))}_resetTranslates(){this._listElements.forEach((t=>{this._setTranslate(t.el,0,0)}))}_turnOffEvents(){I.off(this._draggingObject.handlerForDrag,"mousedown",this._handleDragStart),I.off(this._draggingObject.handlerForDrag,"touchstart",this._handleDragStart)}_turnOnEvents(){const t=this._connectedListInstance._draggingObject.handlerForDrag;this._connectedListInstance._setEvents(),I.on(t,"mousedown",this._connectedListInstance._handleDragStart),I.on(t,"touchstart",this._connectedListInstance._handleDragStart)}_hasProperValue(){const{enterPredicate:t}=this.options;return t(this._draggingObject.el.getAttribute("data-mdb-value"))}_pushItemBetween(t,e){this._listElements.splice(t,0,e),this._rewriteIndexes()}_rewriteIndexes(){this._listElements=this._listElements.map(((t,e)=>(t.index=e,t)))}_sortIndex(t,e){const i=t.index,n=e.index;let s=0;return i>n?s=1:i<n&&(s=-1),s}static get NAME(){return F}static getInstance(t){return o.getData(t,q)}static jQueryInterface(t){return this.each((function(){let e=o.getData(this,q);if(e||(e=new K(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}A.find("[data-mdb-sortable-init]").forEach((t=>{let e=K.getInstance(t);return e||(e=new K(t)),e})),s((()=>{const t=n();if(t){const e=t.fn[F];t.fn[F]=K.jQueryInterface,t.fn[F].Constructor=K,t.fn[F].noConflict=()=>(t.fn[F]=e,K.jQueryInterface)}})),t.Draggable=N,t.Sortable=K,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=drag-and-drop.min.js.map
